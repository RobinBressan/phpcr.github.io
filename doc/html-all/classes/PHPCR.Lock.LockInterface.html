<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>PHPCR API and PHPCR-Utils » \PHPCR\Lock\LockInterface</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">PHPCR API and PHPCR-Utils</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/PHPCR.html"><i class="icon-th"></i> PHPCR</a></li>
<li><a>Packages</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/phpcr.html"><i class="icon-folder-open"></i> phpcr</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">123</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul><li>todo 
                <span class="label label-info">12</span>
</li></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list"><li class="nav-header">
<i class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method_getLockOwner" title="getLockOwner :: Get the user ID string of the lock owner."><span class="description">Get the user ID string of the lock owner.</span><pre>getLockOwner()</pre></a></li>
<li class="method public "><a href="#method_getLockToken" title="getLockToken :: May return the lock token for this lock."><span class="description">May return the lock token for this lock.</span><pre>getLockToken()</pre></a></li>
<li class="method public "><a href="#method_getNode" title="getNode :: Returns the lock holding node."><span class="description">Returns the lock holding node.</span><pre>getNode()</pre></a></li>
<li class="method public "><a href="#method_getSecondsRemaining" title="getSecondsRemaining :: Returns the number of seconds remaining until this locks times out."><span class="description">Returns the number of seconds remaining until this locks times out.</span><pre>getSecondsRemaining()</pre></a></li>
<li class="method public "><a href="#method_isDeep" title="isDeep :: Returns true if this is a deep lock; false otherwise."><span class="description">Returns true if this is a deep lock; false otherwise.</span><pre>isDeep()</pre></a></li>
<li class="method public "><a href="#method_isLive" title="isLive :: Determines if the lock is still in effect."><span class="description">Determines if the lock is still in effect.</span><pre>isLive()</pre></a></li>
<li class="method public "><a href="#method_isLockOwningSession" title="isLockOwningSession :: Determines if the current session owns this lock."><span class="description">Determines if the current session owns this lock.</span><pre>isLockOwningSession()</pre></a></li>
<li class="method public "><a href="#method_isSessionScoped" title="isSessionScoped :: Determines if this lock is session-scoped."><span class="description">Determines if this lock is session-scoped.</span><pre>isSessionScoped()</pre></a></li>
<li class="method public "><a href="#method_refresh" title="refresh :: If this lock's time-to-live is governed by a timer, this method resets
that timer so that the lock does not timeout and expire."><span class="description">If this lock's time-to-live is governed by a timer, this method resets
that timer so that the lock does not timeout and expire.</span><pre>refresh()</pre></a></li>
</ul>
</li></ul>
</div>
<div class="span8">
<a id="\PHPCR\Lock\LockInterface"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/PHPCR.html">PHPCR</a></li>
<li>
<span class="divider">\</span><a href="../namespaces/PHPCR.Lock.html">Lock</a>
</li>
<li class="active">
<span class="divider">\</span><a href="../classes/PHPCR.Lock.LockInterface.html">LockInterface</a>
</li>
</ul>
<div class="element interface">
<p class="short_description">Represents a lock placed on an item.</p>
<div class="details">
<div class="long_description"></div>
<table class="table table-bordered">
<tr>
<th>package</th>
<td><a href="../packages/phpcr.interfaces.html">phpcr</a></td>
</tr>
<tr>
<th>subpackage</th>
<td>interfaces</td>
</tr>
<tr>
<th>api</th>
<td></td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a id="method_getLockOwner"></a><div class="element clickable method public method_getLockOwner" data-toggle="collapse" data-target=".method_getLockOwner .collapse">
<h2>Get the user ID string of the lock owner.</h2>
<pre>getLockOwner() : string</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Returns the value of the jcr:lockOwner property. This is either the
client supplied owner information (see LockManager::lock()),
an implementation-dependent string identifying the user who either
created the lock or who is bound to the session holding the lock, or
null if none of these are available.</p>

<p>The lock owner's identity is only provided for informational purposes.
It does not govern who can perform an unlock or make changes to the
locked nodes; that depends entirely upon who the token holder is.</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>a user ID</div>
</div></div>
</div>
<a id="method_getLockToken"></a><div class="element clickable method public method_getLockToken" data-toggle="collapse" data-target=".method_getLockToken .collapse">
<h2>May return the lock token for this lock.</h2>
<pre>getLockToken() : string</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>If this lock is open-scoped and the current session either holds the
lock token for this lock, or the repository chooses to expose the lock
token to the current session, then this method will return that lock
token. Otherwise this method will return null.</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_getNode"></a><div class="element clickable method public method_getNode" data-toggle="collapse" data-target=".method_getNode .collapse">
<h2>Returns the lock holding node.</h2>
<pre>getNode() : <a href="../classes/PHPCR.NodeInterface.html">\PHPCR\NodeInterface</a></pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>This is not necessarily the node at the path you used to get this lock
instance, if a parent node was deep locked. This method returns the node
that was originally locked.</p>

<p>I.e. $lockManager->getLock($n->getPath())->getNode() (where $n is a
locked node) will only * return $n if $n is the lock holder. If $n is in
the subgraph of the lock holder, $h, then this call will return $h.</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code><a href="../classes/PHPCR.NodeInterface.html">\PHPCR\NodeInterface</a></code>a Node</div>
</div></div>
</div>
<a id="method_getSecondsRemaining"></a><div class="element clickable method public method_getSecondsRemaining" data-toggle="collapse" data-target=".method_getSecondsRemaining .collapse">
<h2>Returns the number of seconds remaining until this locks times out.</h2>
<pre>getSecondsRemaining() : integer</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>If the lock has already timed out, a negative value is returned. If the
number of seconds remaining is infinite or unknown, PHP_INT_MAX is
returned.</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="../classes/PHPCR.RepositoryException.html">\PHPCR\RepositoryException</a></code></th>
<td>if the timeout is infinite or unknown</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>the number of seconds remaining until this lock times out.</div>
</div></div>
</div>
<a id="method_isDeep"></a><div class="element clickable method public method_isDeep" data-toggle="collapse" data-target=".method_isDeep .collapse">
<h2>Returns true if this is a deep lock; false otherwise.</h2>
<pre>isDeep() : boolean</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_isLive"></a><div class="element clickable method public method_isLive" data-toggle="collapse" data-target=".method_isLive .collapse">
<h2>Determines if the lock is still in effect.</h2>
<pre>isLive() : boolean</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Returns true if this Lock object represents a lock that is currently in
effect. If this lock has been unlocked either explicitly or due to an
implementation-specific limitation (like a timeout) then it returns
false.</p>

<p>Note that this method is intended for those cases where one is holding a
Lock object and wants to find out whether the lock (the JCR-level
entity that is attached to the lockable node) that this object
originally represented still exists. For example, a timeout or explicit
unlock will remove a lock from a node but the Lock object
corresponding to that lock may still exist, and in that case its isLive
method will return false.</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code>\PHPCR\Lock\RepositoryException</code></th>
<td>if an error occurs</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>True, if the lock still counts, else false.</div>
</div></div>
</div>
<a id="method_isLockOwningSession"></a><div class="element clickable method public method_isLockOwningSession" data-toggle="collapse" data-target=".method_isLockOwningSession .collapse">
<h2>Determines if the current session owns this lock.</h2>
<pre>isLockOwningSession() : boolean</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Returns true if the current session is the owner of this lock, either
because it is session-scoped and bound to this session or open-scoped
and this session currently holds the token for this lock. Returns false
otherwise.</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>True, if the the current session is the owner of the
     lock, else false.</div>
</div></div>
</div>
<a id="method_isSessionScoped"></a><div class="element clickable method public method_isSessionScoped" data-toggle="collapse" data-target=".method_isSessionScoped .collapse">
<h2>Determines if this lock is session-scoped.</h2>
<pre>isSessionScoped() : boolean</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Returns true if this is a session-scoped lock and the scope is bound to
the current session. Returns false otherwise.</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>True, if the lock current session is locked, else false.</div>
</div></div>
</div>
<a id="method_refresh"></a><div class="element clickable method public method_refresh" data-toggle="collapse" data-target=".method_refresh .collapse">
<h2>If this lock's time-to-live is governed by a timer, this method resets
that timer so that the lock does not timeout and expire.</h2>
<pre>refresh() </pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>If this lock's time-to-live is not governed by a timer, then this method
has no effect.</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Exceptions</h3>
<table class="table table-bordered">
<tr>
<th><code><a href="../classes/PHPCR.Lock.LockException.html">\PHPCR\Lock\LockException</a></code></th>
<td>if this Session does not hold the
     correct lock token for this lock.</td>
</tr>
<tr>
<th><code><a href="../classes/PHPCR.RepositoryException.html">\PHPCR\RepositoryException</a></code></th>
<td>if another error occurs.</td>
</tr>
</table>
</div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a10</a> and<br>
            generated on 2012-10-02T11:32:33+02:00.<br></footer></div>
</div>
</body>
</html>
