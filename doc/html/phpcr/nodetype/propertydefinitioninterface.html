<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2RC4 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Thu, 12 May 2011 08:50:42 +0000">

<link rel="stylesheet" type="text/css" href="../../stylesheet.css">
<link rel="start" href="../../overview-summary.html">

<title>PropertyDefinitionInterface (PHPCR API)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>PHPCR</h1>
<ul>
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="../../phpcr/nodetype/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../phpcr/nodetype/package-tree.html">Tree</a></li>
<li><a href="../../overview-files.html">Files</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../todo-list.html">Todo</a></li>
<li><a href="../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../index.html" target="_top">Frames</a>
<a href="../../phpcr/nodetype/propertydefinitioninterface.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">PHPCR\NodeType\PropertyDefinitionInterface</div>
<a href="../../source/phpcr/nodetype/propertydefinitioninterface.php.html#line41" class="location">PHPCR/NodeType/PropertyDefinitionInterface.php at line 41</a>

<h1>Interface PropertyDefinitionInterface</h1>

<pre class="tree"><a href="../../phpcr/nodetype/itemdefinitioninterface.html">ItemDefinitionInterface</a><br>    └─<strong>PropertyDefinitionInterface</strong><br /></pre>

<hr>

<p class="signature">public  interface <strong>PropertyDefinitionInterface</strong><br>extends <a href="../../phpcr/nodetype/itemdefinitioninterface.html">ItemDefinitionInterface</a>

</p>

<div class="comment" id="overview_description"><p>A property definition. Used in node type definitions.</p></div>

<dl>
<dt>Subpackage:</dt>
<dd>interfaces</dd>
<dt>Api.</dt>
</dl>
<hr>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#getAvailableQueryOperators()">getAvailableQueryOperators</a>()</p><p class="description">Returns the set of query comparison operators supported by this
property.
</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#getDefaultValues()">getDefaultValues</a>()</p><p class="description">Gets the default value(s) of the property.
</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#getRequiredType()">getRequiredType</a>()</p><p class="description">Gets the required type of the property.
</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#getValueConstraints()">getValueConstraints</a>()</p><p class="description">Gets the array of constraint strings.
</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#isFullTextSearchable()">isFullTextSearchable</a>()</p><p class="description">Determines if this property is full-text searchable.
</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#isMultiple()">isMultiple</a>()</p><p class="description">Reports whether this property can have multiple values.
</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#isQueryOrderable()">isQueryOrderable</a>()</p><p class="description">Report this property is orderable by a query.
</p></td>
</tr>
</table>

<table class="inherit">
<tr><th colspan="2">Methods inherited from PHPCR\NodeType\ItemDefinitionInterface</th></tr>
<tr><td><a href="../../phpcr/nodetype/itemdefinitioninterface.html#getDeclaringNodeType()">getDeclaringNodeType</a>, <a href="../../phpcr/nodetype/itemdefinitioninterface.html#getName()">getName</a>, <a href="../../phpcr/nodetype/itemdefinitioninterface.html#getOnParentVersion()">getOnParentVersion</a>, <a href="../../phpcr/nodetype/itemdefinitioninterface.html#isAutoCreated()">isAutoCreated</a>, <a href="../../phpcr/nodetype/itemdefinitioninterface.html#isMandatory()">isMandatory</a>, <a href="../../phpcr/nodetype/itemdefinitioninterface.html#isProtected()">isProtected</a></td></tr></table>

<h2 id="detail_method">Method Detail</h2>
<a href="../../source/phpcr/nodetype/propertydefinitioninterface.php.html#line279" class="location">PHPCR/NodeType/PropertyDefinitionInterface.php at line 279</a>

<h3 id="getAvailableQueryOperators()">getAvailableQueryOperators</h3>
<code class="signature">public  array <strong>getAvailableQueryOperators</strong>()</code>
<div class="details">
<p>Returns the set of query comparison operators supported by this
property.</p><p>This attribute only takes effect if the node type holding the property
definition has a queryable setting of true.</p><p>JCR defines the comparison operators QueryObjectModelConstants::JCR_OPERATOR_*</p><p>An implementation may define additional comparison operators.</p><p>Note that the set of operators that can appear in this attribute may be
limited by implementation-specific constraints that differ across
property types. For example, some implementations may permit property
definitions to provide JCR_OPERATOR_EQUAL_TO and
JCR_OPERATOR_NOT_EQUAL_TO as available operators for BINARY properties
while others may not.</p><p>However, in all cases where a JCR-defined operator is potentially
available for a given property type, its behavior must conform to the
comparison semantics defined in the specification document (see 3.6.5
Comparison of Values).</p><dl>
<dt>Returns:</dt>
<dd>List of query operators.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/nodetype/propertydefinitioninterface.php.html#line233" class="location">PHPCR/NodeType/PropertyDefinitionInterface.php at line 233</a>

<h3 id="getDefaultValues()">getDefaultValues</h3>
<code class="signature">public  array <strong>getDefaultValues</strong>()</code>
<div class="details">
<p>Gets the default value(s) of the property.</p><p>These are the values that the property defined by this PropertyDefinition
will be assigned if it is automatically created (that is, if
ItemDefinition.isAutoCreated() returns true).
This method returns an array of values. If the property is multi-
valued, then this array represents the full set of values that the property
will be assigned upon being auto-created. Note that this could be the empty
array. If the property is single-valued, then the array returned will be
of size 1.</p><p>If null is returned, then the property has no fixed default value. This
does not exclude the possibility that the property still assumes some
value automatically, but that value may be parametrized (for example, "the
current date") and hence not expressible as a single fixed value. In
particular, this must be the case if isAutoCreated returns true and this
method returns null.</p><p>Note that to indicate a null value for this attribute in a node type
definition that is stored in content, the jcr:defaultValues property is
simply removed (since null values for properties are not allowed.</p><p>In implementations that support node type registration, if this
PropertyDefinition object is actually a newly-created empty
PropertyDefinitionTemplate, then this method will return null.</p><dl>
<dt>Returns:</dt>
<dd>An array of php values.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/nodetype/propertydefinitioninterface.php.html#line70" class="location">PHPCR/NodeType/PropertyDefinitionInterface.php at line 70</a>

<h3 id="getRequiredType()">getRequiredType</h3>
<code class="signature">public  integer <strong>getRequiredType</strong>()</code>
<div class="details">
<p>Gets the required type of the property.</p><p>Possible property types of:</p>
<ul>
<li>PropertyType.STRING</li>
<li>PropertyType.DATE</li>
<li>PropertyType.BINARY</li>
<li>PropertyType.DOUBLE</li>
<li>PropertyType.DECIMAL</li>
<li>PropertyType.LONG</li>
<li>PropertyType.BOOLEAN</li>
<li>PropertyType.NAME</li>
<li>PropertyType.PATH</li>
<li>PropertyType.URI</li>
<li>PropertyType.REFERENCE</li>
<li>PropertyType.WEAKREFERENCE</li>
<li>PropertyType.UNDEFINED</li>
</ul>
<p>PropertyType.UNDEFINED is returned if this property may be of any type.</p><p>In implementations that support node type registration, if this
PropertyDefinition object is actually a newly-created empty
PropertyDefinitionTemplate, then this method will return PropertyType.STRING.</p><dl>
<dt>Returns:</dt>
<dd>An integer constant member of PropertyType.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/nodetype/propertydefinitioninterface.php.html#line201" class="location">PHPCR/NodeType/PropertyDefinitionInterface.php at line 201</a>

<h3 id="getValueConstraints()">getValueConstraints</h3>
<code class="signature">public  array <strong>getValueConstraints</strong>()</code>
<div class="details">
<p>Gets the array of constraint strings.</p><p>Each string in the array specifies a constraint on the value of the property.
The constraints are OR-ed together, meaning that in order to be valid, the
value must meet at least one of the constraints. For example, a constraint
array of ["constraint1", "constraint2", "constraint3"] has the interpretation:
"the value of this property must meet at least one of constraint1, constraint2
or constraint3".</p><p>Reporting of value constraints is optional. An implementation may return
null, indicating that value constraint information is unavailable (though
a constraint may still exist).</p><p>Returning an empty array, on the other hand, indicates that value constraint
information is available and that no constraints are placed on this value.</p><p>In the case of multi-value properties, the constraint string array returned
applies to all the values of the property.</p><p>The constraint strings themselves having differing formats and
interpretations depending on the type of the property in question. The
following describes the value constraint syntax for each property type:</p><p><b>STRING</b> and <b>URI</b>: The constraint string is a regular expression pattern. For
example the regular expression ".*" means "any string, including the empty
string". Whereas a simple literal string (without any RE-specific meta-
characters) like "banana" matches only the string "banana".</p><p><b>PATH</b>: The constraint string is a JCR path with an optional "*" character
after the last "/" character. For example, possible constraint strings for
a property of type PATH include:</p>
<ul>
<li>"/myapp:products/myapp:televisions"</li>
<li>"/myapp:products/myapp:televisions/"</li>
<li>"/myapp:products/*"</li>
<li>"myapp:products/myapp:televisions"</li>
<li>"../myapp:televisions"</li>
<li>"../myapp:televisions/*"</li>
</ul>
<p>The following principles apply:
The "*" means "matches descendants" not "matches any subsequent path".
For example, /a/* does not match /a/../c. The constraint must match the
normalized path.
Relative path constraint only match relative path values and absolute
path constraints only match absolute path values.
A trailing "/" has no effect (hence, 1 and 2, above, are equivalent).
The trailing "*" character means that the value of the PATH property is
restricted to the indicated subgraph (in other words any additional
relative path can replace the "*"). For example, 3, above would allow
/myapp:products/myapp:radios, /myapp:products/myapp:microwaves/X900,
and so forth.
A constraint without a "*" means that the PATH property is restricted
to that precise path. For example, 1, above, would allow only the
value /myapp:products/myapp:televisions.
The constraint can indicate either a relative path or an absolute path
depending on whether it includes a leading "/" character. 1 and 4,
above for example, are distinct.
The string returned must reflect the namespace mapping in the current
Session (i.e., the current state of the namespace registry overlaid
with any session-specific mappings). Constraint strings for PATH
properties should be stored in fully-qualified form (using the actual
URI instead of the prefix) and then be converted to prefix form
according to the current mapping upon the
PropertyDefinition.getValueConstraints call.</p><p><b>NAME</b>: The constraint string is a JCR name in prefix form. For example
"myapp:products". No wildcards or other pattern matching are supported.
As with PATH properties, the string returned must reflect the namespace
mapping in the current Session. Constraint strings for NAME properties
should be stored in fully-qualified form (using the actual URI instead of
the prefix) and then be converted to prefix form according to the current
mapping.</p><p><b>REFERENCE</b> and <b>WEAKREFERENCE</b>: The constraint string is a JCR name in prefix
form. This name is interpreted as a node type name and the REFERENCE or
WEAKREFERENCE property is restricted to referring only to nodes that have
at least the indicated node type. For example, a constraint of "mytype:document"
would indicate that the property in question can only refer to nodes that
have at least the node type mytype:document (assuming this was the only
constraint returned in the array, recall that the array of constraints are
to be ORed together). No wildcards or other pattern matching are supported.
As with PATH properties, the string returned must reflect the namespace
mapping in the current Session. Constraint strings for REFERENCE and
WEAKREFERENCE properties should be stored by the implementation in
fully-qualified form (using the actual URI instead of the prefix) and then
be converted to prefix form according to the current mapping.</p><p><b>BOOLEAN</b>: BOOLEAN properties will always report a value constraint
consisting of an empty array (meaning no constraint). In implementations
that support node type registration any value constraint set on BOOLEAN is
ignored and discarded.</p><p>The remaining types all have value constraints in the form of inclusive
or exclusive ranges: i.e., "[min, max]", "(min, max)", "(min, max]" or
"[min, max)". Where "[" and "]" indicate "inclusive", while "(" and ")"
indicate "exclusive". A missing min or max value indicates no bound in
that direction. For example [,5] means no minimum but a maximum of 5
(inclusive) while [,] means simply that any value will suffice, The meaning
of the min and max values themselves differ between types as follows:</p><p><b>BINARY</b>: min and max specify the allowed size range of the binary value in bytes.
DATE: min and max are dates specifying the allowed date range. The date
strings must be in the ISO8601-compliant format: YYYY-MM-DDThh:mm:ss.sssTZD.
LONG, DOUBLE: min and max are numbers.</p><p>In implementations that support node type registration, when specifying
that a DATE, LONG or DOUBLE is constrained to be equal to some disjunctive
set of constants, a string consisting of just the constant itself, "c" may
be used as a shorthand for the standard constraint notation of "[c, c]",
where c is the constant. For example, to indicate that particular LONG
property is constrained to be one of the values 2, 4, or 8, the constraint
string array {"2", "4", "8"} can be used instead of the standard notation,
{"[2,2]", "[4,4]", "[8,8]"}. However, even if this shorthand is used on
registration, the value returned by PropertyDefinition.getValueConstraints()
will always use the standard notation.</p><p>Because constraints are returned as an array of disjunctive constraints,
in many cases the elements of the array can serve directly as a "choice list".
This may, for example, be used by an application to display options to
the end user indicating the set of permitted values.</p><p>In implementations that support node type registration, if this
PropertyDefinition object is actually a newly-created empty
PropertyDefinitionTemplate, then this method will return null.</p><dl>
<dt>Returns:</dt>
<dd>a String array.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/nodetype/propertydefinitioninterface.php.html#line294" class="location">PHPCR/NodeType/PropertyDefinitionInterface.php at line 294</a>

<h3 id="isFullTextSearchable()">isFullTextSearchable</h3>
<code class="signature">public  boolean <strong>isFullTextSearchable</strong>()</code>
<div class="details">
<p>Determines if this property is full-text searchable.</p><p>Returns true if this property is full-text searchable,
meaning that its value is accessible through the full-text search
function within a query.</p><p>This attribute only takes effect if the node type holding the
property definition has a queryable setting of true.</p><dl>
<dt>Returns:</dt>
<dd>True, if this property is full-text searchable, else false.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/nodetype/propertydefinitioninterface.php.html#line251" class="location">PHPCR/NodeType/PropertyDefinitionInterface.php at line 251</a>

<h3 id="isMultiple()">isMultiple</h3>
<code class="signature">public  boolean <strong>isMultiple</strong>()</code>
<div class="details">
<p>Reports whether this property can have multiple values.</p><p><b>Note</b> that the isMultiple flag is special in that a given node
type may have two property definitions that are identical in every respect
except for the their isMultiple status. For example, a node type can specify
two string properties both called X, one of which is multi-valued and the other not.
An example of such a node type is nt:unstructured.</p><p>In implementations that support node type registration, if this
PropertyDefinition object is actually a newly-created empty
PropertyDefinitionTemplate, then this method will return false.</p><dl>
<dt>Returns:</dt>
<dd>True, if this property may have multiple values, else false.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/nodetype/propertydefinitioninterface.php.html#line309" class="location">PHPCR/NodeType/PropertyDefinitionInterface.php at line 309</a>

<h3 id="isQueryOrderable()">isQueryOrderable</h3>
<code class="signature">public  boolean <strong>isQueryOrderable</strong>()</code>
<div class="details">
<p>Report this property is orderable by a query.</p><p>Returns true if this property is query orderable,
meaning that query results may be ordered by this property
using the order-by clause of a query.</p><p>This attribute only takes effect if the node type holding the
property definition has a queryable setting of true.</p><dl>
<dt>Returns:</dt>
<dd>True, if this property is query orderable, else false.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<div class="header">
<h1>PHPCR</h1>
<ul>
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="../../phpcr/nodetype/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../phpcr/nodetype/package-tree.html">Tree</a></li>
<li><a href="../../overview-files.html">Files</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../todo-list.html">Todo</a></li>
<li><a href="../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../index.html" target="_top">Frames</a>
<a href="../../phpcr/nodetype/propertydefinitioninterface.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>