<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2RC4 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Wed, 20 Jul 2011 15:20:19 +0000">

<link rel="stylesheet" type="text/css" href="../../../stylesheet.css">
<link rel="start" href="../../../overview-summary.html">

<title>PHPCR/Security/AccessControlListInterface.php (PHPCR API)</title>

</head>
<body id="file" onload="parent.document.title=document.title;">

<div class="header">
<h1>PHPCR</h1>
<ul>
<li><a href="../../../overview-summary.html">Overview</a></li>
<li>Package</li><li>Class</li><li>Tree</li><li><a href="../../../overview-files.html">Files</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../todo-list.html">Todo</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../index.html" target="_top">Frames</a>
<a href="../../../source/phpcr/security/accesscontrollistinterface.php.html" target="_top">No frames</a>
</div>
<hr>

<h1>PHPCR/Security/AccessControlListInterface.php</h1>
<div class="comment" id="overview_description"><p>This file is part of the PHPCR API and was originally ported from the Java
JCR API to PHP by Karsten Dambekalns for the FLOW3 project.</p><p>Copyright 2008-2011 Karsten Dambekalns <karsten@typo3.org></p><p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p><p>http://www.apache.org/licenses/LICENSE-2.0</p><p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p></div>

<hr>

<a name="line1"></a><pre class="php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
<a name="line2"></a>&nbsp;
<a name="line3"></a><span style="color: #009933; font-style: italic;">/**
<a name="line4"></a> * This file is part of the PHPCR API and was originally ported from the Java
<a name="line5"></a> * JCR API to PHP by Karsten Dambekalns for the FLOW3 project.
<a name="line6"></a> *
<a name="line7"></a> * Copyright 2008-2011 Karsten Dambekalns &lt;karsten@typo3.org&gt;
<a name="line8"></a> *
<a name="line9"></a> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<a name="line10"></a> * you may not use this file except in compliance with the License.
<a name="line11"></a> * You may obtain a copy of the License at
<a name="line12"></a> *
<a name="line13"></a> *     http://www.apache.org/licenses/LICENSE-2.0
<a name="line14"></a> *
<a name="line15"></a> * Unless required by applicable law or agreed to in writing, software
<a name="line16"></a> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<a name="line17"></a> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<a name="line18"></a> * See the License for the specific language governing permissions and
<a name="line19"></a> * limitations under the License.
<a name="line20"></a> *
<a name="line21"></a> * @license http://www.apache.org/licenses/LICENSE-2.0 Apache Software License 2.0
<a name="line22"></a> * @link http://phpcr.github.com/
<a name="line23"></a>*/</span>
<a name="line24"></a>&nbsp;
<a name="line25"></a><span style="color: #000000; font-weight: bold;">namespace</span> PHPCR\Security<span style="color: #339933;">;</span>
<a name="line26"></a>&nbsp;
<a name="line27"></a><span style="color: #009933; font-style: italic;">/**
<a name="line28"></a> * The AccessControlList is an AccessControlPolicy representing a list of access
<a name="line29"></a> * control entries. It is mutable before being set to the AccessControlManager
<a name="line30"></a> * and consequently defines methods to read and mutate the list i.e. to get, add
<a name="line31"></a> * or remove individual entries.
<a name="line32"></a> *
<a name="line33"></a> * The \Traversable interface enables the implementation to be addressed with
<a name="line34"></a> * &lt;b&gt;foreach&lt;/b&gt;. AccessControlList has to implement either \RecursiveIterator
<a name="line35"></a> * or \Iterator.
<a name="line36"></a> * The iterator is equivalent to &lt;b&gt;getAccessControlEntries()&lt;/b&gt; returning a list of
<a name="line37"></a> * AccessControlEntry. The iterator keys have no significant meaning.
<a name="line38"></a> *
<a name="line39"></a> * @package phpcr
<a name="line40"></a> * @subpackage interfaces
<a name="line41"></a> * @api
<a name="line42"></a> */</span>
<a name="line43"></a><span style="color: #000000; font-weight: bold;">interface</span> AccessControlListInterface <span style="color: #000000; font-weight: bold;">extends</span> \PHPCR\Security\AccessControlPolicyInterface<span style="color: #339933;">,</span> \Traversable
<a name="line44"></a><span style="color: #009900;">&#123;</span>
<a name="line45"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line46"></a>     * Gets every registered access control entry.
<a name="line47"></a>     *
<a name="line48"></a>     * Returns all access control entries present with this policy.
<a name="line49"></a>     * This method is only guaranteed to return an AccessControlEntry if that
<a name="line50"></a>     * AccessControlEntry has been assigned through this API.
<a name="line51"></a>     *
<a name="line52"></a>     * @return array Lis of all AccessControlEntry objects present with this policy.
<a name="line53"></a>     *
<a name="line54"></a>     * @throws \PHPCR\RepositoryException - if an error occurs.
<a name="line55"></a>     * @api
<a name="line56"></a>     */</span>
<a name="line57"></a>    <span style="color: #000000; font-weight: bold;">function</span> getAccessControlEntries<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line58"></a>&nbsp;
<a name="line59"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line60"></a>     * Registers an access control entry object to the registry.
<a name="line61"></a>     *
<a name="line62"></a>     * Adds an access control entry to this policy consisting of the specified
<a name="line63"></a>     * principal and the specified privileges.
<a name="line64"></a>     * This method returns true if this policy was modified, false otherwise.
<a name="line65"></a>     *
<a name="line66"></a>     * How the entries are grouped within the list is an implementation detail. An
<a name="line67"></a>     * implementation may e.g. combine the specified privileges with those added by
<a name="line68"></a>     * a previous call to addAccessControlEntry for the same Principal. However, a
<a name="line69"></a>     * call to addAccessControlEntry for a given Principal can never remove a
<a name="line70"></a>     * Privilege added by a previous call.
<a name="line71"></a>     *
<a name="line72"></a>     * The modification does not take effect until this policy has been set to a node
<a name="line73"></a>     * by calling AccessControlManagerInterface::setPolicy() and
<a name="line74"></a>     * save is performed.
<a name="line75"></a>     *
<a name="line76"></a>     * @param ? $principal - a Principal. TODO: define a type for this. JCR has javax.security.Principal
<a name="line77"></a>     * @param array $privileges - an array of Privileges.
<a name="line78"></a>     * @return boolean true if this policy was modify; false otherwise.
<a name="line79"></a>     *
<a name="line80"></a>     * @throws \PHPCR\Security\AccessControlException if the specified principal or any of the privileges
<a name="line81"></a>     *                                                does not existor if some other access control related exception occurs.
<a name="line82"></a>     * @throws \PHPCR\RepositoryException - if another error occurs.
<a name="line83"></a>     *
<a name="line84"></a>     * @todo find replacement for java.security.Principal
<a name="line85"></a>     * @api
<a name="line86"></a>     */</span>
<a name="line87"></a>    <span style="color: #000000; font-weight: bold;">function</span> addAccessControlEntry<span style="color: #009900;">&#40;</span><span style="color: #000088;">$principal</span><span style="color: #339933;">,</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a> <span style="color: #000088;">$privileges</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line88"></a>&nbsp;
<a name="line89"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line90"></a>     * Removes the specified access control entry object from this policy.
<a name="line91"></a>     *
<a name="line92"></a>     * Only exactly those entries obtained through getAccessControlEntries can be
<a name="line93"></a>     * removed. This method does not take effect until this policy has been re-set
<a name="line94"></a>     * to a node by calling AccessControlManagerInterface::setPolicy()
<a name="line95"></a>     * and save is performed.
<a name="line96"></a>     *
<a name="line97"></a>     * @param \PHPCR\Security\AccessControlEntryInterface $ace the access control entry to be removed.
<a name="line98"></a>     * @return void
<a name="line99"></a>     *
<a name="line100"></a>     * @throws \PHPCR\Security\AccessControlException if the specified entry is not present on the specified node.
<a name="line101"></a>     * @throws \PHPCR\RepositoryException if another error occurs.
<a name="line102"></a>     * @api
<a name="line103"></a>     */</span>
<a name="line104"></a>    <span style="color: #000000; font-weight: bold;">function</span> removeAccessControlEntry<span style="color: #009900;">&#40;</span>\PHPCR\Security\AccessControlEntryInterface <span style="color: #000088;">$ace</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line105"></a><span style="color: #009900;">&#125;</span>
<a name="line106"></a>&nbsp;</pre>
<div class="header">
<h1>PHPCR</h1>
<ul>
<li><a href="../../../overview-summary.html">Overview</a></li>
<li>Package</li><li>Class</li><li>Tree</li><li><a href="../../../overview-files.html">Files</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../todo-list.html">Todo</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../index.html" target="_top">Frames</a>
<a href="../../../source/phpcr/security/accesscontrollistinterface.php.html" target="_top">No frames</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>