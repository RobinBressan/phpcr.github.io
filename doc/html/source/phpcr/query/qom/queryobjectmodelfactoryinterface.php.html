<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2RC4 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Tue, 26 Jul 2011 15:51:02 +0000">

<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css">
<link rel="start" href="../../../../overview-summary.html">

<title>PHPCR/Query/QOM/QueryObjectModelFactoryInterface.php (PHPCR API)</title>

</head>
<body id="file" onload="parent.document.title=document.title;">

<div class="header">
<h1>PHPCR</h1>
<ul>
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li>Package</li><li>Class</li><li>Tree</li><li><a href="../../../../overview-files.html">Files</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../todo-list.html">Todo</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../../index.html" target="_top">Frames</a>
<a href="../../../../source/phpcr/query/qom/queryobjectmodelfactoryinterface.php.html" target="_top">No frames</a>
</div>
<hr>

<h1>PHPCR/Query/QOM/QueryObjectModelFactoryInterface.php</h1>
<div class="comment" id="overview_description"><p>This file is part of the PHPCR API and was originally ported from the Java
JCR API to PHP by Karsten Dambekalns for the FLOW3 project.</p><p>Copyright 2008-2011 Karsten Dambekalns <karsten@typo3.org></p><p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p><p>http://www.apache.org/licenses/LICENSE-2.0</p><p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p></div>

<hr>

<a name="line1"></a><pre class="php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
<a name="line2"></a>&nbsp;
<a name="line3"></a><span style="color: #009933; font-style: italic;">/**
<a name="line4"></a> * This file is part of the PHPCR API and was originally ported from the Java
<a name="line5"></a> * JCR API to PHP by Karsten Dambekalns for the FLOW3 project.
<a name="line6"></a> *
<a name="line7"></a> * Copyright 2008-2011 Karsten Dambekalns &lt;karsten@typo3.org&gt;
<a name="line8"></a> *
<a name="line9"></a> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<a name="line10"></a> * you may not use this file except in compliance with the License.
<a name="line11"></a> * You may obtain a copy of the License at
<a name="line12"></a> *
<a name="line13"></a> *     http://www.apache.org/licenses/LICENSE-2.0
<a name="line14"></a> *
<a name="line15"></a> * Unless required by applicable law or agreed to in writing, software
<a name="line16"></a> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<a name="line17"></a> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<a name="line18"></a> * See the License for the specific language governing permissions and
<a name="line19"></a> * limitations under the License.
<a name="line20"></a> *
<a name="line21"></a> * @license http://www.apache.org/licenses/LICENSE-2.0 Apache Software License 2.0
<a name="line22"></a> * @link http://phpcr.github.com/
<a name="line23"></a>*/</span>
<a name="line24"></a>&nbsp;
<a name="line25"></a><span style="color: #000000; font-weight: bold;">namespace</span> PHPCR\Query\QOM<span style="color: #339933;">;</span>
<a name="line26"></a>&nbsp;
<a name="line27"></a><span style="color: #009933; font-style: italic;">/**
<a name="line28"></a> * A QueryObjectModelFactory creates instances of the JCR query object model.
<a name="line29"></a> *
<a name="line30"></a> * Refer to QueryObjectModelInterface for a description of the query object model.
<a name="line31"></a> *
<a name="line32"></a> * @package phpcr
<a name="line33"></a> * @subpackage interfaces
<a name="line34"></a> * @api
<a name="line35"></a> */</span>
<a name="line36"></a><span style="color: #000000; font-weight: bold;">interface</span> QueryObjectModelFactoryInterface <span style="color: #000000; font-weight: bold;">extends</span> QueryObjectModelConstantsInterface
<a name="line37"></a><span style="color: #009900;">&#123;</span>
<a name="line38"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line39"></a>     * Creates a query with one or more selectors.
<a name="line40"></a>     * If source is a selector, that selector is the default selector of the
<a name="line41"></a>     * query. Otherwise the query does not have a default selector.
<a name="line42"></a>     *
<a name="line43"></a>     * If the query is invalid, this method throws an InvalidQueryException.
<a name="line44"></a>     * See the individual QOM factory methods for the validity criteria of each
<a name="line45"></a>     * query element.
<a name="line46"></a>     *
<a name="line47"></a>     * @param \PHPCR\Query\QOM\SourceInterface $source the Selector or the node-tuple Source; non-null
<a name="line48"></a>     * @param \PHPCR\Query\QOM\ConstraintInterface $constraint the constraint, or null if none
<a name="line49"></a>     * @param array $orderings zero or more orderings; null is equivalent to a zero-length array
<a name="line50"></a>     * @param array $columns the columns; null is equivalent to a zero-length array
<a name="line51"></a>     * @return \PHPCR\Query\QOM\QueryObjectModelInterface the query; non-null
<a name="line52"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line53"></a>     *                                            the implemention chooses to perform that test and the parameters
<a name="line54"></a>     *                                            given fail that test. See the individual QOM factory methods for
<a name="line55"></a>     *                                            the validity criteria of each query element.
<a name="line56"></a>     * @throws \PHPCR\RepositoryException if another error occurs.
<a name="line57"></a>     * @api
<a name="line58"></a>     */</span>
<a name="line59"></a>    <span style="color: #000000; font-weight: bold;">function</span> createQuery<span style="color: #009900;">&#40;</span>\PHPCR\Query\QOM\SourceInterface <span style="color: #000088;">$source</span><span style="color: #339933;">,</span> <span style="color: #000088;">$constraint</span><span style="color: #339933;">,</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a> <span style="color: #000088;">$orderings</span><span style="color: #339933;">,</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a> <span style="color: #000088;">$columns</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line60"></a>&nbsp;
<a name="line61"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line62"></a>     * Selects a subset of the nodes in the repository based on node type.
<a name="line63"></a>     *
<a name="line64"></a>     * The query is invalid if $nodeTypeName or $selectorName is not a
<a name="line65"></a>     * syntactically valid JCR name.
<a name="line66"></a>     *
<a name="line67"></a>     * The query is invalid if $selectorName is identical to the name of another
<a name="line68"></a>     * selector in the query.
<a name="line69"></a>     *
<a name="line70"></a>     * If $nodeTypeName is a valid JCR name but not the name of a node type
<a name="line71"></a>     * available in the repository, the query is valid but the selector selects
<a name="line72"></a>     * no nodes.
<a name="line73"></a>     *
<a name="line74"></a>     * @param string $nodeTypeName the name of the required node type; non-null
<a name="line75"></a>     * @param string $selectorName the selector name; non-null
<a name="line76"></a>     * @return \PHPCR\Query\QOM\SelectorInterface the selector; non-null
<a name="line77"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line78"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line79"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line80"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line81"></a>     * @api
<a name="line82"></a>     */</span>
<a name="line83"></a>    <span style="color: #000000; font-weight: bold;">function</span> selector<span style="color: #009900;">&#40;</span><span style="color: #000088;">$nodeTypeName</span><span style="color: #339933;">,</span> <span style="color: #000088;">$selectorName</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line84"></a>&nbsp;
<a name="line85"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line86"></a>     * Performs a join between two node-tuple sources.
<a name="line87"></a>     *
<a name="line88"></a>     * The query is invalid if $left is the same source as $right.
<a name="line89"></a>     *
<a name="line90"></a>     * @param \PHPCR\Query\QOM\SourceInterface $left the left node-tuple source; non-null
<a name="line91"></a>     * @param \PHPCR\Query\QOM\SourceInterface $right the right node-tuple source; non-null
<a name="line92"></a>     * @param string $joinType one of QueryObjectModelConstants.JCR_JOIN_TYPE_*
<a name="line93"></a>     * @param \PHPCR\Query\QOM\JoinConditionInterface $joinCondition the join condition; non-null
<a name="line94"></a>     * @return \PHPCR\Query\QOM\JoinInterface the join; non-null
<a name="line95"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line96"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line97"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line98"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line99"></a>     * @api
<a name="line100"></a>     */</span>
<a name="line101"></a>    <span style="color: #000000; font-weight: bold;">function</span> <a href="http://www.php.net/join"><span style="color: #990000;">join</span></a><span style="color: #009900;">&#40;</span>\PHPCR\Query\QOM\SourceInterface <span style="color: #000088;">$left</span><span style="color: #339933;">,</span> \PHPCR\Query\QOM\SourceInterface <span style="color: #000088;">$right</span><span style="color: #339933;">,</span>
<a name="line102"></a>                         <span style="color: #000088;">$joinType</span><span style="color: #339933;">,</span> \PHPCR\Query\QOM\JoinConditionInterface <span style="color: #000088;">$joinCondition</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line103"></a>&nbsp;
<a name="line104"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line105"></a>     * Tests whether the value of a property in a first selector is equal to the
<a name="line106"></a>     * value of a property in a second selector.
<a name="line107"></a>     *
<a name="line108"></a>     * The query is invalid if:
<a name="line109"></a>     * - $selector1 is not the name of a selector in the query, or
<a name="line110"></a>     * - $selector2 is not the name of a selector in the query, or
<a name="line111"></a>     * - $selector1 is the same as $selector2, or
<a name="line112"></a>     * - $property1 is not a syntactically valid JCR name, or
<a name="line113"></a>     * - $property2 is not a syntactically valid JCR name, or
<a name="line114"></a>     * - the value of $property1 is not the same property type as the value of
<a name="line115"></a>     *   $property2, or
<a name="line116"></a>     * - $property1 is a multi-valued property, or
<a name="line117"></a>     * - $property2 is a multi-valued property, or
<a name="line118"></a>     * - $property1 is a BINARY property, or
<a name="line119"></a>     * - $property2 is a BINARY property.
<a name="line120"></a>     *
<a name="line121"></a>     * @param string $selector1Name the name of the first selector; non-null
<a name="line122"></a>     * @param string $property1Name the property name in the first selector; non-null
<a name="line123"></a>     * @param string $selector2Name the name of the second selector; non-null
<a name="line124"></a>     * @param string $property2Name the property name in the second selector; non-null
<a name="line125"></a>     * @return \PHPCR\Query\QOM\EquiJoinConditionInterface the constraint; non-null
<a name="line126"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line127"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line128"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line129"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line130"></a>     * @api
<a name="line131"></a>     */</span>
<a name="line132"></a>    <span style="color: #000000; font-weight: bold;">function</span> equiJoinCondition<span style="color: #009900;">&#40;</span><span style="color: #000088;">$selector1Name</span><span style="color: #339933;">,</span> <span style="color: #000088;">$property1Name</span><span style="color: #339933;">,</span> <span style="color: #000088;">$selector2Name</span><span style="color: #339933;">,</span> <span style="color: #000088;">$property2Name</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line133"></a>&nbsp;
<a name="line134"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line135"></a>     * Tests whether a first selector's node is the same as a node identified by
<a name="line136"></a>     * relative path from a second selector's node.
<a name="line137"></a>     *
<a name="line138"></a>     * The query is invalid if:
<a name="line139"></a>     * - $selector1 is not the name of a selector in the query, or
<a name="line140"></a>     * - $selector2 is not the name of a selector in the query, or
<a name="line141"></a>     * - $selector1 is the same as $selector2, or
<a name="line142"></a>     * - $selector2Path is not a syntactically valid relative path.
<a name="line143"></a>     *   &lt;b&gt;Note:&lt;/b&gt;
<a name="line144"></a>     *   however, that if the path is syntactically valid but does not identify a node
<a name="line145"></a>     *   visible to the current session, the query is valid but the constraint
<a name="line146"></a>     *   is not satisfied.
<a name="line147"></a>     *
<a name="line148"></a>     * @param string $selector1Name the name of the first selector; non-null
<a name="line149"></a>     * @param string $selector2Name the name of the second selector; non-null
<a name="line150"></a>     * @param string $selector2Path the path relative to the second selector; non-null
<a name="line151"></a>     * @return \PHPCR\Query\QOM\SameNodeJoinConditionInterface the constraint; non-null
<a name="line152"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line153"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line154"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line155"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line156"></a>     * @api
<a name="line157"></a>     */</span>
<a name="line158"></a>    <span style="color: #000000; font-weight: bold;">function</span> sameNodeJoinCondition<span style="color: #009900;">&#40;</span><span style="color: #000088;">$selector1Name</span><span style="color: #339933;">,</span> <span style="color: #000088;">$selector2Name</span><span style="color: #339933;">,</span> <span style="color: #000088;">$selector2Path</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line159"></a>&nbsp;
<a name="line160"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line161"></a>     * Tests whether a first selector's node is a child of a second selector's node.
<a name="line162"></a>     *
<a name="line163"></a>     * The query is invalid if:
<a name="line164"></a>     * - $childSelector is not the name of a selector in the query
<a name="line165"></a>     * - $parentSelector is not the name of a selector in the query
<a name="line166"></a>     * - $childSelector is the same as $parentSelector
<a name="line167"></a>     *
<a name="line168"></a>     * @param string $childSelectorName the name of the child selector; non-null
<a name="line169"></a>     * @param string $parentSelectorName the name of the parent selector; non-null
<a name="line170"></a>     * @return \PHPCR\Query\QOM\ChildNodeJoinConditionInterface the constraint; non-null
<a name="line171"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line172"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line173"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line174"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line175"></a>     * @api
<a name="line176"></a>     */</span>
<a name="line177"></a>    <span style="color: #000000; font-weight: bold;">function</span> childNodeJoinCondition<span style="color: #009900;">&#40;</span><span style="color: #000088;">$childSelectorName</span><span style="color: #339933;">,</span> <span style="color: #000088;">$parentSelectorName</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line178"></a>&nbsp;
<a name="line179"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line180"></a>     * Tests whether a first selector's node is a descendant of a second selector's node.
<a name="line181"></a>     *
<a name="line182"></a>     * The query is invalid if:
<a name="line183"></a>     * - $descendantSelector is not the name of a selector in the query
<a name="line184"></a>     * - $ancestorSelector is not the name of a selector in the query
<a name="line185"></a>     * - $descendantSelector is the same as $ancestorSelector
<a name="line186"></a>     *
<a name="line187"></a>     * @param string $descendantSelectorName the name of the descendant selector; non-null
<a name="line188"></a>     * @param string $ancestorSelectorName the name of the ancestor selector; non-null
<a name="line189"></a>     * @return \PHPCR\Query\QOM\DescendantNodeJoinConditionInterface the constraint; non-null
<a name="line190"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line191"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line192"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line193"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line194"></a>     * @api
<a name="line195"></a>     */</span>
<a name="line196"></a>    <span style="color: #000000; font-weight: bold;">function</span> descendantNodeJoinCondition<span style="color: #009900;">&#40;</span><span style="color: #000088;">$descendantSelectorName</span><span style="color: #339933;">,</span> <span style="color: #000088;">$ancestorSelectorName</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line197"></a>&nbsp;
<a name="line198"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line199"></a>     * Performs a logical conjunction of two other constraints.
<a name="line200"></a>     *
<a name="line201"></a>     * @param \PHPCR\Query\QOM\ConstraintInterface $constraint1 the first constraint; non-null
<a name="line202"></a>     * @param \PHPCR\Query\QOM\ConstraintInterface $constraint2 the second constraint; non-null
<a name="line203"></a>     * @return \PHPCR\Query\QOM\AndInterface the And constraint; non-null
<a name="line204"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line205"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line206"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line207"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line208"></a>     * @api
<a name="line209"></a>     */</span>
<a name="line210"></a>    <span style="color: #000000; font-weight: bold;">function</span> _and<span style="color: #009900;">&#40;</span>\PHPCR\Query\QOM\ConstraintInterface <span style="color: #000088;">$constraint1</span><span style="color: #339933;">,</span>
<a name="line211"></a>                         \PHPCR\Query\QOM\ConstraintInterface <span style="color: #000088;">$constraint2</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line212"></a>&nbsp;
<a name="line213"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line214"></a>     * Performs a logical disjunction of two other constraints.
<a name="line215"></a>     *
<a name="line216"></a>     * @param \PHPCR\Query\QOM\ConstraintInterface $constraint1 the first constraint; non-null
<a name="line217"></a>     * @param \PHPCR\Query\QOM\ConstraintInterface $constraint2 the second constraint; non-null
<a name="line218"></a>     * @return \PHPCR\Query\QOM\OrInterface the Or constraint; non-null
<a name="line219"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line220"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line221"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line222"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line223"></a>     * @api
<a name="line224"></a>     */</span>
<a name="line225"></a>    <span style="color: #000000; font-weight: bold;">function</span> _or<span style="color: #009900;">&#40;</span>\PHPCR\Query\QOM\ConstraintInterface <span style="color: #000088;">$constraint1</span><span style="color: #339933;">,</span>
<a name="line226"></a>                        \PHPCR\Query\QOM\ConstraintInterface <span style="color: #000088;">$constraint2</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line227"></a>&nbsp;
<a name="line228"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line229"></a>     * Performs a logical negation of another constraint.
<a name="line230"></a>     *
<a name="line231"></a>     * @param \PHPCR\Query\QOM\ConstraintInterface $constraint the constraint to be negated; non-null
<a name="line232"></a>     * @return \PHPCR\Query\QOM\NotInterface the Not constraint; non-null
<a name="line233"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line234"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line235"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line236"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line237"></a>     * @api
<a name="line238"></a>     */</span>
<a name="line239"></a>    <span style="color: #000000; font-weight: bold;">function</span> not<span style="color: #009900;">&#40;</span>\PHPCR\Query\QOM\ConstraintInterface <span style="color: #000088;">$constraint</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line240"></a>&nbsp;
<a name="line241"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line242"></a>     * Filters node-tuples based on the outcome of a binary operation.
<a name="line243"></a>     *
<a name="line244"></a>     * @param \PHPCR\Query\QOM\DynamicOperandInterface $operand1 the first operand; non-null
<a name="line245"></a>     * @param string $operator the operator; one of QueryObjectModelConstants.JCR_OPERATOR_*
<a name="line246"></a>     * @param \PHPCR\Query\QOM\StaticOperandInterface $operand2 the second operand; non-null
<a name="line247"></a>     * @return \PHPCR\Query\QOM\ComparisonInterface the constraint; non-null
<a name="line248"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line249"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line250"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line251"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line252"></a>     * @api
<a name="line253"></a>     */</span>
<a name="line254"></a>    <span style="color: #000000; font-weight: bold;">function</span> comparison<span style="color: #009900;">&#40;</span>\PHPCR\Query\QOM\DynamicOperandInterface <span style="color: #000088;">$operand1</span><span style="color: #339933;">,</span> <span style="color: #000088;">$operator</span><span style="color: #339933;">,</span>
<a name="line255"></a>                               \PHPCR\Query\QOM\StaticOperandInterface <span style="color: #000088;">$operand2</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line256"></a>&nbsp;
<a name="line257"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line258"></a>     * Tests the existence of a property in the specified or default selector.
<a name="line259"></a>     *
<a name="line260"></a>     * The query is invalid if:
<a name="line261"></a>     *
<a name="line262"></a>     * - $propertyName is not a syntactically valid JCR name
<a name="line263"></a>     * - $selectorName is not the name of a selector in the query
<a name="line264"></a>     *
<a name="line265"></a>     * @param string $propertyName the property name; non-null
<a name="line266"></a>     * @param string $selectorName the selector name; non-null
<a name="line267"></a>     * @return \PHPCR\Query\QOM\PropertyExistenceInterface the constraint; non-null
<a name="line268"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line269"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line270"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line271"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line272"></a>     * @api
<a name="line273"></a>     */</span>
<a name="line274"></a>    <span style="color: #000000; font-weight: bold;">function</span> propertyExistence<span style="color: #009900;">&#40;</span><span style="color: #000088;">$propertyName</span><span style="color: #339933;">,</span> <span style="color: #000088;">$selectorName</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line275"></a>&nbsp;
<a name="line276"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line277"></a>     * Performs a full-text search against the specified or default selector.
<a name="line278"></a>     *
<a name="line279"></a>     * The query is invalid if:
<a name="line280"></a>     * - $selectorName is not the name of a selector in the query
<a name="line281"></a>     * - $propertyName is specified but is not a syntactically valid JCR name
<a name="line282"></a>     * - $fullTextSearchExpression does not conform to the full text search grammar
<a name="line283"></a>     *
<a name="line284"></a>     * If $propertyName is specified but, for a node-tuple, the selector node
<a name="line285"></a>     * does not have a property named $propertyName, the query is valid but the
<a name="line286"></a>     * constraint is not satisfied.
<a name="line287"></a>     *
<a name="line288"></a>     * @param string $propertyName the property name, or null to search all full-text indexed properties of the
<a name="line289"></a>     *                             node (or node subgraph, in some implementations);
<a name="line290"></a>     * @param string $fullTextSearchExpression the full-text search expression; non-null
<a name="line291"></a>     * @param string $selectorName the selector name; non-null
<a name="line292"></a>     * @return \PHPCR\Query\QOM\FullTextSearchInterface the constraint; non-null
<a name="line293"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line294"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line295"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line296"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line297"></a>     * @api
<a name="line298"></a>     */</span>
<a name="line299"></a>    <span style="color: #000000; font-weight: bold;">function</span> fullTextSearch<span style="color: #009900;">&#40;</span><span style="color: #000088;">$propertyName</span><span style="color: #339933;">,</span> <span style="color: #000088;">$fullTextSearchExpression</span><span style="color: #339933;">,</span> <span style="color: #000088;">$selectorName</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line300"></a>&nbsp;
<a name="line301"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line302"></a>     * Tests whether a node in the specified or default selector is reachable by
<a name="line303"></a>     * a specified absolute path.
<a name="line304"></a>     *
<a name="line305"></a>     * The query is invalid if:
<a name="line306"></a>     * - $selectorName is not the name of a selector in the query
<a name="line307"></a>     * - $path is not a syntactically valid absolute path.
<a name="line308"></a>     *   &lt;b&gt;Note:&lt;/b&gt;
<a name="line309"></a>     *   however, that if the path is syntactically valid but does not identify a
<a name="line310"></a>     *   node in the repository (or the node is not visible to this session,
<a name="line311"></a>     *   because of access control constraints), the query is valid but the
<a name="line312"></a>     *   constraint is not satisfied.
<a name="line313"></a>     *
<a name="line314"></a>     * @param string $path an absolute path; non-null
<a name="line315"></a>     * @param string $selectorName the selector name; non-null
<a name="line316"></a>     * @return \PHPCR\Query\QOM\SameNodeInterface the constraint; non-null
<a name="line317"></a>     * @throws \PHPCR\Query\InvalidQueryException if the query is invalid
<a name="line318"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line319"></a>     * @api
<a name="line320"></a>     */</span>
<a name="line321"></a>    <span style="color: #000000; font-weight: bold;">function</span> sameNode<span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span><span style="color: #339933;">,</span> <span style="color: #000088;">$selectorName</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line322"></a>&nbsp;
<a name="line323"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line324"></a>     * Tests whether a node in the specified or default selector is a child of a
<a name="line325"></a>     * node reachable by a specified absolute path.
<a name="line326"></a>     *
<a name="line327"></a>     * The query is invalid if:
<a name="line328"></a>     * - $selectorName is not the name of a selector in the query
<a name="line329"></a>     * - $path is not a syntactically valid absolute path
<a name="line330"></a>     *   &lt;b&gt;Note:&lt;/b&gt;
<a name="line331"></a>     *   however, that if the path is syntactically valid but does not identify a
<a name="line332"></a>     *   node in the repository (or the node is not visible to this session,
<a name="line333"></a>     *   because of access control constraints), the query is valid but the
<a name="line334"></a>     *   constraint is not satisfied.
<a name="line335"></a>     *
<a name="line336"></a>     * @param string $path an absolute path; non-null
<a name="line337"></a>     * @param string $selectorName the selector name; non-null
<a name="line338"></a>     * @return \PHPCR\Query\QOM\ChildNodeInterface the constraint; non-null
<a name="line339"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line340"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line341"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line342"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line343"></a>     * @api
<a name="line344"></a>     */</span>
<a name="line345"></a>    <span style="color: #000000; font-weight: bold;">function</span> childNode<span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span><span style="color: #339933;">,</span> <span style="color: #000088;">$selectorName</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line346"></a>&nbsp;
<a name="line347"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line348"></a>     * Tests whether a node in the specified or default selector is a descendant
<a name="line349"></a>     * of a node reachable by a specified absolute path.
<a name="line350"></a>     *
<a name="line351"></a>     * The query is invalid if:
<a name="line352"></a>     * - $selectorName is not the name of a selector in the query
<a name="line353"></a>     * - $path is not a syntactically valid absolute path
<a name="line354"></a>     *   &lt;b&gt;Note:&lt;/b&gt;
<a name="line355"></a>     *   however, that if the path is syntactically valid but does not identify a
<a name="line356"></a>     *   node in the repository (or the node is not visible to this session,
<a name="line357"></a>     *   because of access control constraints), the query is valid but the
<a name="line358"></a>     *   constraint is not satisfied.
<a name="line359"></a>     *
<a name="line360"></a>     * @param string $path an absolute path; non-null
<a name="line361"></a>     * @param string $selectorName the selector name; non-null
<a name="line362"></a>     * @return \PHPCR\Query\QOM\DescendantNodeInterface the constraint; non-null
<a name="line363"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line364"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line365"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line366"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line367"></a>     * @api
<a name="line368"></a>     */</span>
<a name="line369"></a>    <span style="color: #000000; font-weight: bold;">function</span> descendantNode<span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span><span style="color: #339933;">,</span> <span style="color: #000088;">$selectorName</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line370"></a>&nbsp;
<a name="line371"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line372"></a>     * Evaluates to the value (or values, if multi-valued) of a property in the
<a name="line373"></a>     * specified or default selector.
<a name="line374"></a>     *
<a name="line375"></a>     * The query is invalid if:
<a name="line376"></a>     * - $selectorName is not the name of a selector in the query
<a name="line377"></a>     * - $propertyName is not a syntactically valid JCR name
<a name="line378"></a>     *
<a name="line379"></a>     * @param string $propertyName the property name; non-null
<a name="line380"></a>     * @param string $selectorName the selector name; non-null
<a name="line381"></a>     * @return \PHPCR\Query\QOM\PropertyValueInterface the operand; non-null
<a name="line382"></a>     * @throws \PHPCR\Query\InvalidQueryException if the query is invalid
<a name="line383"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line384"></a>     * @api
<a name="line385"></a>     */</span>
<a name="line386"></a>    <span style="color: #000000; font-weight: bold;">function</span> propertyValue<span style="color: #009900;">&#40;</span><span style="color: #000088;">$propertyName</span><span style="color: #339933;">,</span> <span style="color: #000088;">$selectorName</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line387"></a>&nbsp;
<a name="line388"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line389"></a>     * Evaluates to the length (or lengths, if multi-valued) of a property.
<a name="line390"></a>     *
<a name="line391"></a>     * @param \PHPCR\Query\QOM\PropertyValueInterface $propertyValue the property value for which to compute the
<a name="line392"></a>     *                                                               length; non-null
<a name="line393"></a>     * @return \PHPCR\Query\QOM\LengthInterface the operand; non-null
<a name="line394"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line395"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line396"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line397"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line398"></a>     * @api
<a name="line399"></a>     */</span>
<a name="line400"></a>    <span style="color: #000000; font-weight: bold;">function</span> length<span style="color: #009900;">&#40;</span>\PHPCR\Query\QOM\PropertyValueInterface <span style="color: #000088;">$propertyValue</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line401"></a>&nbsp;
<a name="line402"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line403"></a>     * Evaluates to a NAME value equal to the prefix-qualified name of a node in
<a name="line404"></a>     * the specified or default selector.
<a name="line405"></a>     *
<a name="line406"></a>     * The query is invalid if $selectorName is not the name of a selector in
<a name="line407"></a>     * the query.
<a name="line408"></a>     *
<a name="line409"></a>     * @param string $selectorName the selector name; non-null
<a name="line410"></a>     * @return \PHPCR\Query\QOM\NodeNameInterface the operand; non-null
<a name="line411"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line412"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line413"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line414"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line415"></a>     * @api
<a name="line416"></a>     */</span>
<a name="line417"></a>    <span style="color: #000000; font-weight: bold;">function</span> nodeName<span style="color: #009900;">&#40;</span><span style="color: #000088;">$selectorName</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line418"></a>&nbsp;
<a name="line419"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line420"></a>     * Evaluates to a NAME value equal to the local (unprefixed) name of a node in the specified or default selector.
<a name="line421"></a>     *
<a name="line422"></a>     * The query is invalid if $selectorName is not the name of a selector in
<a name="line423"></a>     * the query.
<a name="line424"></a>     *
<a name="line425"></a>     * @param string $selectorName the selector name; non-null
<a name="line426"></a>     * @return \PHPCR\Query\QOM\NodeLocalNameInterface the operand; non-null
<a name="line427"></a>     * @throws \PHPCR\Query\InvalidQueryException if the query is invalid
<a name="line428"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line429"></a>     * @api
<a name="line430"></a>     */</span>
<a name="line431"></a>    <span style="color: #000000; font-weight: bold;">function</span> nodeLocalName<span style="color: #009900;">&#40;</span><span style="color: #000088;">$selectorName</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line432"></a>&nbsp;
<a name="line433"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line434"></a>     * Evaluates to a DOUBLE value equal to the full-text search score of a node in the specified or default selector.
<a name="line435"></a>     *
<a name="line436"></a>     * The query is invalid if $selectorName is not the name of a selector in
<a name="line437"></a>     * the query.
<a name="line438"></a>     *
<a name="line439"></a>     * @param string $selectorName the selector name; non-null
<a name="line440"></a>     * @return \PHPCR\Query\QOM\FullTextSearchScoreInterface the operand; non-null
<a name="line441"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line442"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line443"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line444"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line445"></a>     * @api
<a name="line446"></a>     */</span>
<a name="line447"></a>    <span style="color: #000000; font-weight: bold;">function</span> fullTextSearchScore<span style="color: #009900;">&#40;</span><span style="color: #000088;">$selectorName</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line448"></a>&nbsp;
<a name="line449"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line450"></a>     * Evaluates to the lower-case string value (or values, if multi-valued) of an operand.
<a name="line451"></a>     *
<a name="line452"></a>     * @param \PHPCR\Query\QOM\DynamicOperandInterface $operand the operand whose value is converted to a
<a name="line453"></a>     *                                                          lower-case string; non-null
<a name="line454"></a>     * @return \PHPCR\Query\QOM\LowerCaseInterface the operand; non-null
<a name="line455"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line456"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line457"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line458"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line459"></a>     * @api
<a name="line460"></a>     */</span>
<a name="line461"></a>    <span style="color: #000000; font-weight: bold;">function</span> lowerCase<span style="color: #009900;">&#40;</span>\PHPCR\Query\QOM\DynamicOperandInterface <span style="color: #000088;">$operand</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line462"></a>&nbsp;
<a name="line463"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line464"></a>     * Evaluates to the upper-case string value (or values, if multi-valued) of an operand.
<a name="line465"></a>     *
<a name="line466"></a>     * @param \PHPCR\Query\QOM\DynamicOperandInterface $operand the operand whose value is converted to a
<a name="line467"></a>     *                                                          upper-case string; non-null
<a name="line468"></a>     * @return \PHPCR\Query\QOM\UpperCaseInterface the operand; non-null
<a name="line469"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line470"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line471"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line472"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line473"></a>     * @api
<a name="line474"></a>     */</span>
<a name="line475"></a>    <span style="color: #000000; font-weight: bold;">function</span> upperCase<span style="color: #009900;">&#40;</span>\PHPCR\Query\QOM\DynamicOperandInterface <span style="color: #000088;">$operand</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line476"></a>&nbsp;
<a name="line477"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line478"></a>     * Evaluates to the value of a bind variable.
<a name="line479"></a>     *
<a name="line480"></a>     * The query is invalid if $bindVariableName is not a valid JCR prefix.
<a name="line481"></a>     *
<a name="line482"></a>     * @param string $bindVariableName the bind variable name; non-null
<a name="line483"></a>     * @return \PHPCR\Query\QOM\BindVariableValueInterface the operand; non-null
<a name="line484"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line485"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line486"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line487"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line488"></a>     * @api
<a name="line489"></a>     */</span>
<a name="line490"></a>    <span style="color: #000000; font-weight: bold;">function</span> bindVariable<span style="color: #009900;">&#40;</span><span style="color: #000088;">$bindVariableName</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line491"></a>&nbsp;
<a name="line492"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line493"></a>     * Evaluates to a literal value.
<a name="line494"></a>     *
<a name="line495"></a>     * The query is invalid if no value is bound to $literalValue.
<a name="line496"></a>     *
<a name="line497"></a>     * @param mixed $literalValue the value
<a name="line498"></a>     * @return mixed the operand; non-null
<a name="line499"></a>     * @throws \PHPCR\Query\InvalidQueryException if a particular validity test is possible on this method,
<a name="line500"></a>     *                                            the implemention chooses to perform that test (and not leave it
<a name="line501"></a>     *                                            until later) on createQuery, and the parameters given fail that test
<a name="line502"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line503"></a>     * @api
<a name="line504"></a>     */</span>
<a name="line505"></a>    <span style="color: #000000; font-weight: bold;">function</span> literal<span style="color: #009900;">&#40;</span><span style="color: #000088;">$literalValue</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line506"></a>&nbsp;
<a name="line507"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line508"></a>     * Orders by the value of the specified operand, in ascending order.
<a name="line509"></a>     *
<a name="line510"></a>     * The query is invalid if $operand does not evaluate to a scalar value.
<a name="line511"></a>     *
<a name="line512"></a>     * @param \PHPCR\Query\QOM\DynamicOperandInterface $operand the operand by which to order; non-null
<a name="line513"></a>     * @return \PHPCR\Query\QOM\OrderingInterface the ordering
<a name="line514"></a>     * @throws \PHPCR\Query\InvalidQueryException if the query is invalid
<a name="line515"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line516"></a>     * @api
<a name="line517"></a>     */</span>
<a name="line518"></a>    <span style="color: #000000; font-weight: bold;">function</span> ascending<span style="color: #009900;">&#40;</span>\PHPCR\Query\QOM\DynamicOperandInterface <span style="color: #000088;">$operand</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line519"></a>&nbsp;
<a name="line520"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line521"></a>     * Orders by the value of the specified operand, in descending order.
<a name="line522"></a>     *
<a name="line523"></a>     * The query is invalid if $operand does not evaluate to a scalar value.
<a name="line524"></a>     *
<a name="line525"></a>     * @param \PHPCR\Query\QOM\DynamicOperandInterface $operand the operand by which to order; non-null
<a name="line526"></a>     * @return \PHPCR\Query\QOM\OrderingInterface the ordering
<a name="line527"></a>     * @throws \PHPCR\Query\InvalidQueryException if the query is invalid
<a name="line528"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line529"></a>     * @api
<a name="line530"></a>     */</span>
<a name="line531"></a>    <span style="color: #000000; font-weight: bold;">function</span> descending<span style="color: #009900;">&#40;</span>\PHPCR\Query\QOM\DynamicOperandInterface <span style="color: #000088;">$operand</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line532"></a>&nbsp;
<a name="line533"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line534"></a>     * Identifies a property in the specified or default selector to include in
<a name="line535"></a>     * the tabular view of query results.
<a name="line536"></a>     * The column name is the property name if not given.
<a name="line537"></a>     *
<a name="line538"></a>     * The query is invalid if:
<a name="line539"></a>     * - $selectorName is not the name of a selector in the query
<a name="line540"></a>     * - $propertyName is specified but it is not a syntactically valid JCR name
<a name="line541"></a>     * - $propertyName is specified but does not evaluate to a scalar value
<a name="line542"></a>     * - $propertyName is specified but $columnName is omitted
<a name="line543"></a>     * - $propertyName is omitted but $columnName is specified
<a name="line544"></a>     * - the columns in the tabular view are not uniquely named, whether those
<a name="line545"></a>     *   column names are specified by $columnName (if $propertyName is specified)
<a name="line546"></a>     *   or generated as described above (if $propertyName is omitted).
<a name="line547"></a>     *
<a name="line548"></a>     * If $propertyName is specified but, for a node-tuple, the selector node
<a name="line549"></a>     * does not have a property named $propertyName, the query is valid and the
<a name="line550"></a>     * column has null value.
<a name="line551"></a>     *
<a name="line552"></a>     * @param string $propertyName the property name, or null to include a column for each single-value non-residual
<a name="line553"></a>     *                             property of the selector's node type
<a name="line554"></a>     * @param string $columnName the column name; must be null if propertyName is null
<a name="line555"></a>     * @param string $selectorName the selector name; non-null
<a name="line556"></a>     * @return \PHPCR\Query\QOM\ColumnInterface the column; non-null
<a name="line557"></a>     * @throws \PHPCR\Query\InvalidQueryException if the query has no default selector or is otherwise invalid
<a name="line558"></a>     * @throws \PHPCR\RepositoryException if the operation otherwise fails
<a name="line559"></a>     * @api
<a name="line560"></a>     */</span>
<a name="line561"></a>    <span style="color: #000000; font-weight: bold;">function</span> column<span style="color: #009900;">&#40;</span><span style="color: #000088;">$propertyName</span><span style="color: #339933;">,</span> <span style="color: #000088;">$columnName</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #339933;">,</span> <span style="color: #000088;">$selectorName</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line562"></a><span style="color: #009900;">&#125;</span>
<a name="line563"></a>&nbsp;</pre>
<div class="header">
<h1>PHPCR</h1>
<ul>
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li>Package</li><li>Class</li><li>Tree</li><li><a href="../../../../overview-files.html">Files</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../todo-list.html">Todo</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../../index.html" target="_top">Frames</a>
<a href="../../../../source/phpcr/query/qom/queryobjectmodelfactoryinterface.php.html" target="_top">No frames</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>