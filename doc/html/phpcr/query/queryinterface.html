<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2RC4 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Thu, 12 May 2011 08:50:42 +0000">

<link rel="stylesheet" type="text/css" href="../../stylesheet.css">
<link rel="start" href="../../overview-summary.html">

<title>QueryInterface (PHPCR API)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>PHPCR</h1>
<ul>
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="../../phpcr/query/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../phpcr/query/package-tree.html">Tree</a></li>
<li><a href="../../overview-files.html">Files</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../todo-list.html">Todo</a></li>
<li><a href="../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../index.html" target="_top">Frames</a>
<a href="../../phpcr/query/queryinterface.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">PHPCR\Query\QueryInterface</div>
<a href="../../source/phpcr/query/queryinterface.php.html#line43" class="location">PHPCR/Query/QueryInterface.php at line 43</a>

<h1>Interface QueryInterface</h1>

<pre class="tree"><strong>QueryInterface</strong><br /></pre>

<hr>

<p class="signature">public  interface <strong>QueryInterface</strong></p>

<div class="comment" id="overview_description"><p>A Query object.</p><p><b>PHPCR Note:</b> Instead of the dropped ValueInterface, bindValue uses native php variables</p></div>

<dl>
<dt>Subpackage:</dt>
<dd>interfaces</dd>
<dt>Api.</dt>
</dl>
<hr>

<table id="summary_field">
<tr><th colspan="2">Constant Summary</th></tr>
<tr>
<td class="type">final static  string</td>
<td class="description"><p class="name"><a href="#JCR_JQOM">JCR_JQOM</a></p><p class="description">A string constant representing the JCR-JQOM query language.</p></td>
</tr>
<tr>
<td class="type">final static  str</td>
<td class="description"><p class="name"><a href="#JCR_SQL2">JCR_SQL2</a></p><p class="description">A string constant representing the JCR-SQL2 query language.</p></td>
</tr>
</table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#bindValue()">bindValue</a>(string varName, mixed value)</p><p class="description">Binds the given value to the variable named $varName.</p></td>
</tr>
<tr>
<td class="type"> <a href="../../phpcr/query/queryinterface.html">QueryInterface</a></td>
<td class="description"><p class="name"><a href="#execute()">execute</a>()</p><p class="description">Executes this query and returns a QueryResult object.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#getBindVariableNames()">getBindVariableNames</a>()</p><p class="description">Returns the names of the bind variables in this query.
</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getLanguage()">getLanguage</a>()</p><p class="description">Returns the language set for this query.
</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getStatement()">getStatement</a>()</p><p class="description">Returns the statement defined for this query.
</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getStoredQueryPath()">getStoredQueryPath</a>()</p><p class="description">Fetches the path of the node representing this query.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setLimit()">setLimit</a>(integer limit)</p><p class="description">Sets the maximum size of the result set to limit.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setOffset()">setOffset</a>(integer offset)</p><p class="description">Sets the start offset of the result set to offset.</p></td>
</tr>
<tr>
<td class="type"> <a href="../../phpcr/nodeinterface.html">NodeInterface</a></td>
<td class="description"><p class="name"><a href="#storeAsNode()">storeAsNode</a>(string absPath)</p><p class="description">Creates a node of type nt:query holding this query at $absPath and
returns that node.
</p></td>
</tr>
</table>

<h2 id="detail_field">Constant Detail</h2>
<a href="../../source/phpcr/query/queryinterface.php.html#line53" class="location">PHPCR/Query/QueryInterface.php at line 53</a>

<h3 id="JCR_JQOM">JCR_JQOM</h3>
<code class="signature">public final static  string <strong>JCR_JQOM</strong> = 'JCR-JQOM'</code>
<div class="details">
<p>A string constant representing the JCR-JQOM query language.</p><dl>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/query/queryinterface.php.html#line59" class="location">PHPCR/Query/QueryInterface.php at line 59</a>

<h3 id="JCR_SQL2">JCR_SQL2</h3>
<code class="signature">public final static  str <strong>JCR_SQL2</strong> = 'JCR-SQL2'</code>
<div class="details">
<p>A string constant representing the JCR-SQL2 query language.</p><dl>
<dt>Api.</dt>
</dl>
</div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<a href="../../source/phpcr/query/queryinterface.php.html#line74" class="location">PHPCR/Query/QueryInterface.php at line 74</a>

<h3 id="bindValue()">bindValue</h3>
<code class="signature">public  void <strong>bindValue</strong>(string varName, mixed value)</code>
<div class="details">
<p>Binds the given value to the variable named $varName.</p><dl>
<dt>Parameters:</dt>
<dd>varName - name of variable in query</dd>
<dd>value - value to bind</dd>
<dt>Throws:</dt>
<dd>\InvalidArgumentException - if $varName is not a valid variable in this query.</dd>
<dd><a href="../../phpcr/repositoryexception.html">RepositoryException</a> - if an error occurs.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/query/queryinterface.php.html#line85" class="location">PHPCR/Query/QueryInterface.php at line 85</a>

<h3 id="execute()">execute</h3>
<code class="signature">public  <a href="../../phpcr/query/queryinterface.html">QueryInterface</a> <strong>execute</strong>()</code>
<div class="details">
<p>Executes this query and returns a QueryResult object.</p><dl>
<dt>Returns:</dt>
<dd>a QueryResult object</dd>
<dt>Throws:</dt>
<dd><a href="../../phpcr/query/invalidqueryexception.html">\PHPCR\Query\InvalidQueryException</a> - if the query contains an unbound variable.</dd>
<dd><a href="../../phpcr/repositoryexception.html">\PHPCR\RepositoryException</a> - if an error occurs</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/query/queryinterface.php.html#line97" class="location">PHPCR/Query/QueryInterface.php at line 97</a>

<h3 id="getBindVariableNames()">getBindVariableNames</h3>
<code class="signature">public  array <strong>getBindVariableNames</strong>()</code>
<div class="details">
<p>Returns the names of the bind variables in this query.</p><p>If this query does not contains any bind variables then an empty array is returned.</p><dl>
<dt>Returns:</dt>
<dd>the names of the bind variables in this query.</dd>
<dt>Throws:</dt>
<dd><a href="../../phpcr/repositoryexception.html">\PHPCR\RepositoryException</a> - if an error occurs.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/query/queryinterface.php.html#line143" class="location">PHPCR/Query/QueryInterface.php at line 143</a>

<h3 id="getLanguage()">getLanguage</h3>
<code class="signature">public  string <strong>getLanguage</strong>()</code>
<div class="details">
<p>Returns the language set for this query.</p><p>This will be one of the query language constants returned by
QueryManager.getSupportedQueryLanguages().</p><dl>
<dt>Returns:</dt>
<dd>The query language.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/query/queryinterface.php.html#line132" class="location">PHPCR/Query/QueryInterface.php at line 132</a>

<h3 id="getStatement()">getStatement</h3>
<code class="signature">public  string <strong>getStatement</strong>()</code>
<div class="details">
<p>Returns the statement defined for this query.</p><p>If the language of this query is string-based (like JCR-SQL2), this method
will return the statement that was used to create this query.</p><p>If the language of this query is JCR-JQOM, this method will return the
JCR-SQL2 equivalent of the JCR-JQOM object tree.</p><p>This is the standard serialization of JCR-JQOM and is also the string stored
in the jcr:statement property if the query is persisted. See storeAsNode($absPath).</p><dl>
<dt>Returns:</dt>
<dd>The query statement.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/query/queryinterface.php.html#line159" class="location">PHPCR/Query/QueryInterface.php at line 159</a>

<h3 id="getStoredQueryPath()">getStoredQueryPath</h3>
<code class="signature">public  string <strong>getStoredQueryPath</strong>()</code>
<div class="details">
<p>Fetches the path of the node representing this query.</p><p>If this is a Query object that has been stored using storeAsNode(java.lang.String)
(regardless of whether it has been saved yet) or retrieved using
QueryManager.getQuery(javax.jcr.Node)), then this method returns the path
of the nt:query node that stores the query.</p><dl>
<dt>Returns:</dt>
<dd>Path of the node representing this query.</dd>
<dt>Throws:</dt>
<dd><a href="../../phpcr/itemnotfoundexception.html">\PHPCR\ItemNotFoundException</a> - if this query is not a stored query.</dd>
<dd><a href="../../phpcr/repositoryexception.html">\PHPCR\RepositoryException</a> - if another error occurs.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/query/queryinterface.php.html#line106" class="location">PHPCR/Query/QueryInterface.php at line 106</a>

<h3 id="setLimit()">setLimit</h3>
<code class="signature">public  void <strong>setLimit</strong>(integer limit)</code>
<div class="details">
<p>Sets the maximum size of the result set to limit.</p><dl>
<dt>Parameters:</dt>
<dd>limit - The amount of result items to be fetched.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/query/queryinterface.php.html#line115" class="location">PHPCR/Query/QueryInterface.php at line 115</a>

<h3 id="setOffset()">setOffset</h3>
<code class="signature">public  void <strong>setOffset</strong>(integer offset)</code>
<div class="details">
<p>Sets the start offset of the result set to offset.</p><dl>
<dt>Parameters:</dt>
<dd>offset - The start point of the result set from when the item shall be fetched.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/query/queryinterface.php.html#line195" class="location">PHPCR/Query/QueryInterface.php at line 195</a>

<h3 id="storeAsNode()">storeAsNode</h3>
<code class="signature">public  <a href="../../phpcr/nodeinterface.html">NodeInterface</a> <strong>storeAsNode</strong>(string absPath)</code>
<div class="details">
<p>Creates a node of type nt:query holding this query at $absPath and
returns that node.</p><p>This is  a session-write method and therefore requires a
Session.save() to dispatch the change.</p><p>The $absPath provided must not have an index on its final element. If
ordering is supported by the node type of the parent node then the new
node is appended to the end of the child node list.</p><dl>
<dt>Parameters:</dt>
<dd>absPath - absolute path the query should be stored at</dd>
<dt>Returns:</dt>
<dd>the newly created node.</dd>
<dt>Throws:</dt>
<dd><a href="../../phpcr/itemexistsexception.html">\PHPCR\ItemExistsException</a> - if an item at the specified path already exists, same-name siblings are not allowed and this implementation performs this validation immediately.</dd>
<dd><a href="../../phpcr/pathnotfoundexception.html">\PHPCR\PathNotFoundException</a> - if the specified path implies intermediary Nodes that do not exist or the last element of relPath has an index, and this implementation performs this validation immediately.</dd>
<dd><a href="../../phpcr/nodetype/constraintviolationexception.html">\PHPCR\NodeType\ConstraintViolationException</a> - if a node type or implementation-specific constraint is violated or if an attempt is made to add a node as the child of a property and this implementation performs this validation immediately.</dd>
<dd><a href="../../phpcr/version/versionexception.html">\PHPCR\Version\VersionException</a> - if the node to which the new child is being added is read-only due to a checked-in node and this implementation performs this validation immediately.</dd>
<dd><a href="../../phpcr/lock/lockexception.html">\PHPCR\Lock\LockException</a> - if a lock prevents the addition of the node and this implementation performs this validation immediately instead of waiting until save.</dd>
<dd><a href="../../phpcr/unsupportedrepositoryoperationexception.html">\PHPCR\UnsupportedRepositoryOperationException</a> - in a level 1 implementation.</dd>
<dd><a href="../../phpcr/repositoryexception.html">\PHPCR\RepositoryException</a> - if another error occurs or if the absPath provided has an index on its final element.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<div class="header">
<h1>PHPCR</h1>
<ul>
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="../../phpcr/query/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../phpcr/query/package-tree.html">Tree</a></li>
<li><a href="../../overview-files.html">Files</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../todo-list.html">Todo</a></li>
<li><a href="../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../index.html" target="_top">Frames</a>
<a href="../../phpcr/query/queryinterface.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>