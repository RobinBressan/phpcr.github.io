<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2RC4 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Tue, 26 Jul 2011 15:50:47 +0000">

<link rel="stylesheet" type="text/css" href="../../stylesheet.css">
<link rel="start" href="../../overview-summary.html">

<title>LockInterface (PHPCR API)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>PHPCR</h1>
<ul>
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="../../phpcr/lock/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../phpcr/lock/package-tree.html">Tree</a></li>
<li><a href="../../overview-files.html">Files</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../todo-list.html">Todo</a></li>
<li><a href="../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../index.html" target="_top">Frames</a>
<a href="../../phpcr/lock/lockinterface.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">PHPCR\Lock\LockInterface</div>
<a href="../../source/phpcr/lock/lockinterface.php.html#line34" class="location">PHPCR/Lock/LockInterface.php at line 34</a>

<h1>Interface LockInterface</h1>

<pre class="tree"><strong>LockInterface</strong><br /></pre>

<hr>

<p class="signature">public  interface <strong>LockInterface</strong></p>

<div class="comment" id="overview_description"><p>Represents a lock placed on an item.</p></div>

<dl>
<dt>Subpackage:</dt>
<dd>interfaces</dd>
<dt>Api.</dt>
</dl>
<hr>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getLockOwner()">getLockOwner</a>()</p><p class="description">Returns the value of the jcr:lockOwner property. </p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getLockToken()">getLockToken</a>()</p><p class="description">May return the lock token for this lock.
</p></td>
</tr>
<tr>
<td class="type"> <a href="../../phpcr/nodeinterface.html">NodeInterface</a></td>
<td class="description"><p class="name"><a href="#getNode()">getNode</a>()</p><p class="description">Returns the lock holding node.
</p></td>
</tr>
<tr>
<td class="type"> integer</td>
<td class="description"><p class="name"><a href="#getSecondsRemaining()">getSecondsRemaining</a>()</p><p class="description">Returns the number of seconds remaining until this locks times out.
</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#isDeep()">isDeep</a>()</p><p class="description">Returns true if this is a deep lock; false otherwise.</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#isLive()">isLive</a>()</p><p class="description">Determines if the lock is still in effect.
</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#isLockOwningSession()">isLockOwningSession</a>()</p><p class="description">Determines if the current session owns this lock.
</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#isSessionScoped()">isSessionScoped</a>()</p><p class="description">Determines if this lock is session-scoped.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#refresh()">refresh</a>()</p><p class="description">If this lock's time-to-live is governed by a timer, this method resets that
timer so that the lock does not timeout and expire.
</p></td>
</tr>
</table>

<h2 id="detail_method">Method Detail</h2>
<a href="../../source/phpcr/lock/lockinterface.php.html#line50" class="location">PHPCR/Lock/LockInterface.php at line 50</a>

<h3 id="getLockOwner()">getLockOwner</h3>
<code class="signature">public  string <strong>getLockOwner</strong>()</code>
<div class="details">
<p>Returns the value of the jcr:lockOwner property. This is either the
client supplied owner information (see LockManager::lock()),
an implementation-dependent string identifying the user who either
created the lock or who is bound to the session holding the lock, or
null if none of these are available.</p><p>The lock owner's identity is only provided for informational purposes.
It does not govern who can perform an unlock or make changes to the
locked nodes; that depends entirely upon who the token holder is.</p><dl>
<dt>Returns:</dt>
<dd>a user ID</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/lock/lockinterface.php.html#line83" class="location">PHPCR/Lock/LockInterface.php at line 83</a>

<h3 id="getLockToken()">getLockToken</h3>
<code class="signature">public  string <strong>getLockToken</strong>()</code>
<div class="details">
<p>May return the lock token for this lock.</p><p>If this lock is open-scoped and the current session either holds the lock token for this lock, or the
repository chooses to expose the lock token to the current session,
then this method will return that lock token. Otherwise this method will
return null.</p><dl>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/lock/lockinterface.php.html#line70" class="location">PHPCR/Lock/LockInterface.php at line 70</a>

<h3 id="getNode()">getNode</h3>
<code class="signature">public  <a href="../../phpcr/nodeinterface.html">NodeInterface</a> <strong>getNode</strong>()</code>
<div class="details">
<p>Returns the lock holding node.</p><p>Note that $n->getLock()->getNode() (where $n is a locked node) will only
return $n if $n is the lock holder. If $n is in the subgraph of the lock
holder, $h, then this call will return $h.</p><dl>
<dt>Returns:</dt>
<dd>a Node</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/lock/lockinterface.php.html#line97" class="location">PHPCR/Lock/LockInterface.php at line 97</a>

<h3 id="getSecondsRemaining()">getSecondsRemaining</h3>
<code class="signature">public  integer <strong>getSecondsRemaining</strong>()</code>
<div class="details">
<p>Returns the number of seconds remaining until this locks times out.</p><p>If the lock has already timed out, a negative value is returned. If the
number of seconds remaining is infinite or unknown, PHP_INT_MAX is
returned.</p><dl>
<dt>Returns:</dt>
<dd>the number of seconds remaining until this lock times out.</dd>
<dt>Throws:</dt>
<dd><a href="../../phpcr/repositoryexception.html">\PHPCR\RepositoryException</a> - if the timeout is infinite or unknown</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/lock/lockinterface.php.html#line58" class="location">PHPCR/Lock/LockInterface.php at line 58</a>

<h3 id="isDeep()">isDeep</h3>
<code class="signature">public  boolean <strong>isDeep</strong>()</code>
<div class="details">
<p>Returns true if this is a deep lock; false otherwise.</p><dl>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/lock/lockinterface.php.html#line117" class="location">PHPCR/Lock/LockInterface.php at line 117</a>

<h3 id="isLive()">isLive</h3>
<code class="signature">public  boolean <strong>isLive</strong>()</code>
<div class="details">
<p>Determines if the lock is still in effect.</p><p>Returns true if this Lock object represents a lock that is currently in
effect. If this lock has been unlocked either explicitly or due to an
implementation-specific limitation (like a timeout) then it returns false.
Note that this method is intended for those cases where one is holding a
Lock Java object and wants to find out whether the lock (the JCR-level
entity that is attached to the lockable node) that this object originally
represented still exists. For example, a timeout or explicit unlock will
remove a lock from a node but the Lock Java object corresponding to that
lock may still exist, and in that case its isLive method will return false.</p><dl>
<dt>Returns:</dt>
<dd>True, if the lock still counts, else false.</dd>
<dt>Throws:</dt>
<dd><a href="../../phpcr/repositoryexception.html">RepositoryException</a> - if an error occurs</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/lock/lockinterface.php.html#line140" class="location">PHPCR/Lock/LockInterface.php at line 140</a>

<h3 id="isLockOwningSession()">isLockOwningSession</h3>
<code class="signature">public  boolean <strong>isLockOwningSession</strong>()</code>
<div class="details">
<p>Determines if the current session owns this lock.</p><p>Returns true if the current session is the owner of this lock, either because
it is session-scoped and bound to this session or open-scoped and this session
currently holds the token for this lock. Returns false otherwise.</p><dl>
<dt>Returns:</dt>
<dd>True, if the the current session is the owner of the lock, else false.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/lock/lockinterface.php.html#line128" class="location">PHPCR/Lock/LockInterface.php at line 128</a>

<h3 id="isSessionScoped()">isSessionScoped</h3>
<code class="signature">public  boolean <strong>isSessionScoped</strong>()</code>
<div class="details">
<p>Determines if this lock is session-scoped.</p><p>Returns true if this is a session-scoped lock and the scope is bound to the
current session. Returns false otherwise.</p><dl>
<dt>Returns:</dt>
<dd>True, if the lock current session is locked, else false.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<a href="../../source/phpcr/lock/lockinterface.php.html#line152" class="location">PHPCR/Lock/LockInterface.php at line 152</a>

<h3 id="refresh()">refresh</h3>
<code class="signature">public  void <strong>refresh</strong>()</code>
<div class="details">
<p>If this lock's time-to-live is governed by a timer, this method resets that
timer so that the lock does not timeout and expire.</p><p>If this lock's time-to-live is not governed by a timer, then this method has no effect.</p><dl>
<dt>Throws:</dt>
<dd><a href="../../phpcr/lock/lockexception.html">\PHPCR\Lock\LockException</a> - if this Session does not hold the correct lock token for this lock.</dd>
<dd><a href="../../phpcr/repositoryexception.html">\PHPCR\RepositoryException</a> - if another error occurs.</dd>
<dt>Api.</dt>
</dl>
</div>

<hr>

<div class="header">
<h1>PHPCR</h1>
<ul>
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="../../phpcr/lock/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../phpcr/lock/package-tree.html">Tree</a></li>
<li><a href="../../overview-files.html">Files</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../todo-list.html">Todo</a></li>
<li><a href="../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../index.html" target="_top">Frames</a>
<a href="../../phpcr/lock/lockinterface.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>