<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PHPCR API and PHPCR-Utils</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery.tools.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">phpcr/src/PHPCR/SessionInterface.php</h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="short-description">This file is part of the PHPCR API and was originally ported from the Java
JCR API to PHP by Karsten Dambekalns for the FLOW3 project.</div><div class="long-description"><p>Copyright 2008-2011 Karsten Dambekalns <a href="&#109;&#x61;&#x69;&#108;&#116;&#x6f;&#58;&#107;&#x61;&#114;&#115;&#x74;e&#110;&#x40;&#x74;&#121;&#x70;&#x6f;&#51;&#46;&#x6f;&#114;&#103;">&#107;&#x61;&#114;&#115;&#x74;e&#110;&#x40;&#x74;&#121;&#x70;&#x6f;&#51;&#46;&#x6f;&#114;&#103;</a></p>

<p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>

<pre><code>http://www.apache.org/licenses/LICENSE-2.0
</code></pre>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p></div></div><dl class="file-info"><dt>License</dt><dd><a href="http://www.apache.org/licenses/LICENSE-2.0">Apache Software License 2.0</a>
         
    </dd><dt>Link</dt><dd><a href="http://phpcr.github.com/">http://phpcr.github.com/</a>
         
    </dd></dl><a name="interfaces" class="anchor"></a><a id="\PHPCR\SessionInterface" class="anchor"></a><h2 class="interface">\PHPCR\SessionInterface<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>Default</small><div class="short-description">Describes the implementation of a session class.</div><div class="long-description"><p>The Session object provides read and (in level 2) write access to the
content of a particular workspace in the repository.</p>

<p>The Session object is returned by Repository::login(). It encapsulates both
the authorization settings of a particular user (as specified by the passed
Credentials) and a binding to the workspace specified by the workspaceName
passed on login.</p>

<p>Each Session object is associated one-to-one with a Workspace object. The
Workspace object represents a "view" of an actual repository workspace
entity as seen through the authorization settings of its associated Session.</p>

<p><b>PHPCR Note:</b>
  We removed getValueFactory as the ValueFactory interface has
  been removed. To set properties, use NodeInterface::setProperty() or
  PropertyInterface::setValue() with native PHP variables.</p></div><dl class="class-info"><dt>Api</dt><dd>
         
    </dd></dl><h3>Constants</h3><div><a id="\PHPCR\SessionInterface::ACTION_ADD_NODE" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">ACTION_ADD_NODE</span>
                = 'add_node'</code><div class="description"><div class="short-description">A constant representing the add_node action string, used to determine if
this Session has permission to add a new node.</div></div><div class="code-tabs"><div class="long-description"></div><dl class="constant-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::ACTION_READ" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">ACTION_READ</span>
                = 'read'</code><div class="description"><div class="short-description">A constant representing the read action string, used to determine if
this Session has permission to retrieve an item (and read the value, in
the case of a property).</div></div><div class="code-tabs"><div class="long-description"></div><dl class="constant-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::ACTION_REMOVE" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">ACTION_REMOVE</span>
                = 'remove'</code><div class="description"><div class="short-description">A constant representing the remove action string, used to determine if
this Session has permission to remove an item.</div></div><div class="code-tabs"><div class="long-description"></div><dl class="constant-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::ACTION_SET_PROPERTY" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">ACTION_SET_PROPERTY</span>
                = 'set_property'</code><div class="description"><div class="short-description">A constant representing the set_property action string, used to
determine ifthis Session has permission to set (add or modify) a
property.</div></div><div class="code-tabs"><div class="long-description"></div><dl class="constant-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div></div><h3>Methods</h3><div><a id="\PHPCR\SessionInterface::checkPermission()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">checkPermission</span><span class="nb-faded-text">(string $absPath, string $actions)</span> : void</code><div class="description"><p class="short_description">Determines whether this Session has permission to perform the specified
actions at the specified absPath.</p></div><div class="code-tabs"><div class="long-description"><p>This method quietly returns if the access request is
permitted, or throws a \PHPCR\Security\AccessControlException otherwise.
The actions parameter is a comma separated list of action strings.</p>

<p>The following action strings are defined:</p>

<ul>
<li>add_node: If checkPermission(path, "add_node") returns quietly, then
 this Session has permission to add a node at path, otherwise
 permission is denied.</li>
<li>set_property: If checkPermission(path, "set_property") returns
 quietly, then this Session has permission to set (add or change) a
 property at path, otherwise permission is denied.</li>
<li>remove: If checkPermission(path, "remove") returns quietly, then this
 Session has permission to remove an item at path, otherwise
 permission is denied.</li>
<li>read: If checkPermission(path, "read") returns quietly, then this
 Session has permission to retrieve (and read the value of, in the
 case of a property) an item at path, otherwise permission is
 denied.</li>
</ul>

<p>When more than one action is specified in the actions parameter, this
method will only return true if this Session has permission to perform
all of the listed actions at the specified path.</p>

<p>The information returned through this method will only reflect the
access control status (both JCR defined and implementation-specific) and
not other restrictions that may exist, such as node type constraints.
For example, even though hasPermission may indicate that a particular
Session may add a property at /A/B/C, the node type of the node at /A/B
may prevent the addition of a property called C.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPath</th><td>string</td><td><em><p>an absolute path.</p></em></td></tr><tr><th>$actions</th><td>string</td><td><em><p>a comma separated list of action strings.</p></em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Security.AccessControlException.html#\PHPCR\Security\AccessControlException">\PHPCR\Security\AccessControlException</a></td><td><em>If permission is denied.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::exportDocumentView()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">exportDocumentView</span><span class="nb-faded-text">(string $absPath, resource $stream, boolean $skipBinary, boolean $noRecurse)</span> : void</code><div class="description"><p class="short_description">Serializes the node (and if $noRecurse is false, the whole subgraph) at
$absPath as an XML stream and outputs it to the supplied URI.</p></div><div class="code-tabs"><div class="long-description"><p>The resulting XML is in the document view form. Note that $absPath must
be the path of a node, not a property.</p>

<p>If $skipBinary is true then any properties of PropertyType::BINARY will
be serialized as if they are empty. That is, the existence of the
property will be serialized, but its content will not appear in the
serialized output (the value of the attribute will be empty). If
$skipBinary is false then the actual value(s) of each BINARY property is
recorded using Base64 encoding.</p>

<p>If $noRecurse is true then only the node at $absPath and its properties,
but not its child nodes, are serialized. If $noRecurse is false then the
entire subgraph rooted at $absPath is serialized.</p>

<p>If the user lacks read access to some subsection of the specified tree,
that section simply does not get serialized, since, from the user's
point of view, it is not there.</p>

<p>The serialized output will reflect the state of the current workspace as
modified by the state of this Session. This means that pending changes
(regardless of whether they are valid according to node type
constraints) and all namespace mappings in the namespace registry, as
modified by the current session-mappings, are reflected in the output.</p>

<p>The output XML will be encoded in UTF-8.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPath</th><td>string</td><td><em><p>The path of the root of the subgraph to be
     serialized. This must be the path to a node, not a property</p></em></td></tr><tr><th>$stream</th><td>resource</td><td><em><p>The stream resource (i.e. aquired with fopen) to
     which the XML serialization of the subgraph will be output. Must
     support the fwrite method.</p>
</em></td></tr><tr><th>$skipBinary</th><td>boolean</td><td><em><p>A boolean governing whether binary properties
     are to be serialized.</p></em></td></tr><tr><th>$noRecurse</th><td>boolean</td><td><em><p>A boolean governing whether the subgraph at
     absPath is to be recursed.</p></em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.PathNotFoundException.html#\PHPCR\PathNotFoundException">\PHPCR\PathNotFoundException</a></td><td><em>if no node exists at absPath.</em></td></tr><tr><td><a href="../files/http://php.net/manual/en/class.runtimeexception.php">\RuntimeException</a></td><td><em>if an error during an I/O operation occurs.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::exportSystemView()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">exportSystemView</span><span class="nb-faded-text">(string $absPath, resource $stream, boolean $skipBinary, boolean $noRecurse)</span> : void</code><div class="description"><p class="short_description">Serializes the node (and if $noRecurse is false, the whole subgraph) at
$absPath as an XML stream and outputs it to the supplied URI.</p></div><div class="code-tabs"><div class="long-description"><p>The
resulting XML is in the system view form. Note that $absPath must be
the path of a node, not a property.</p>

<p>If $skipBinary is true then any properties of PropertyType::BINARY will
be serialized as if they are empty. That is, the existence of the
property will be serialized, but its content will not appear in the
serialized output (the <sv:value> element will have no content). Note
that in the case of multi-value BINARY properties, the number of values
in the property will be reflected in the serialized output, though they
will all be empty. If $skipBinary is false then the actual value(s) of
each BINARY property is recorded using Base64 encoding.</p>

<p>If $noRecurse is true then only the node at $absPath and its properties,
but not its child nodes, are serialized. If $noRecurse is false then the
entire subgraph rooted at $absPath is serialized.</p>

<p>If the user lacks read access to some subsection of the specified tree,
that section simply does not get serialized, since, from the user's
point of view, it is not there.</p>

<p>The serialized output will reflect the state of the current workspace as
modified by the state of this Session. This means that pending changes
(regardless of whether they are valid according to node type
constraints) and all namespace mappings in the namespace registry, as
modified by the current session-mappings, are reflected in the output.</p>

<p>The output XML will be encoded in UTF-8.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPath</th><td>string</td><td><em><p>The path of the root of the subgraph to be
     serialized. This must be the path to a node, not a property</p></em></td></tr><tr><th>$stream</th><td>resource</td><td><em><p>The stream resource (i.e. aquired with fopen) to
     which the XML serialization of the subgraph will be output. Must
     support the fwrite method.</p>
</em></td></tr><tr><th>$skipBinary</th><td>boolean</td><td><em><p>A boolean governing whether binary properties
     are to be serialized.</p></em></td></tr><tr><th>$noRecurse</th><td>boolean</td><td><em><p>A boolean governing whether the subgraph at
     absPath is to be recursed.</p></em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.PathNotFoundException.html#\PHPCR\PathNotFoundException">\PHPCR\PathNotFoundException</a></td><td><em>if no node exists at absPath.</em></td></tr><tr><td><a href="../files/http://php.net/manual/en/class.runtimeexception.php">\RuntimeException</a></td><td><em>if an error during an I/O operation occurs.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getAccessControlManager()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getAccessControlManager</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.Security.AccessControlManagerInterface.html#\PHPCR\Security\AccessControlManagerInterface">\PHPCR\Security\AccessControlManagerInterface</a></code><div class="description"><p class="short_description">Returns the access control manager for this Session.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Security.AccessControlManagerInterface.html#\PHPCR\Security\AccessControlManagerInterface">\PHPCR\Security\AccessControlManagerInterface</a></td><td>the access control manager
     for this Session</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.UnsupportedRepositoryOperationException.html#\PHPCR\UnsupportedRepositoryOperationException">\PHPCR\UnsupportedRepositoryOperationException</a></td><td><em>if access control
     is not supported.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getAttribute()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getAttribute</span><span class="nb-faded-text">(string $name)</span> : mixed</code><div class="description"><p class="short_description">Returns the value of the named attribute, or null if no
attribute of the given name exists.</p></div><div class="code-tabs"><div class="long-description"><p>See getAttributeNames().</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$name</th><td>string</td><td><em><p>The name of an attribute passed in the credentials
     used to acquire this session.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The value of the attribute or null if no attribute of the
     given name exists.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getAttributeNames()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getAttributeNames</span><span class="nb-faded-text">()</span> : array</code><div class="description"><p class="short_description">Returns the names of the attributes set in this session as a result of
the Credentials that were used to acquire it.</p></div><div class="code-tabs"><div class="long-description"><p>Not all Credentials implementations will contain attributes (though, for
example, SimpleCredentials does allow for them). This method returns an
empty array if the Credentials instance did not provide attributes.</p></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>array</td><td>A string array containing the names of all attributes
     passed in the credentials used to acquire this session.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getItem()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getItem</span><span class="nb-faded-text">(string $absPath)</span> : <a href="../files/phpcr.src.PHPCR.ItemInterface.html#\PHPCR\ItemInterface">\PHPCR\ItemInterface</a></code><div class="description"><p class="short_description">Returns the node at the specified absolute path in the workspace.</p></div><div class="code-tabs"><div class="long-description"><p>If no
such node exists, then it returns the property at the specified path.</p>

<p>This method should only be used if the application does not know whether
the item at the indicated path is property or node. In cases where the
application has this information, either SessionInterface::getNode() or
SessionInterface::getProperty() should be used, as appropriate. In many
repository implementations the node and property-specific methods are
likely to be more efficient than getItem.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPath</th><td>string</td><td><em><p>An absolute path.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.ItemInterface.html#\PHPCR\ItemInterface">\PHPCR\ItemInterface</a></td><td></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.PathNotFoundException.html#\PHPCR\PathNotFoundException">\PHPCR\PathNotFoundException</a></td><td><em>if no accessible item is found at
     the specified path.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getNamespacePrefix()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getNamespacePrefix</span><span class="nb-faded-text">(string $uri)</span> : string</code><div class="description"><p class="short_description">Returns the prefix to which the given uri is mapped as currently set in
this Session.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$uri</th><td>string</td><td><em><p>The loaction of the namespace definition (usually a
     uri).</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>The prefix of a namespace identified by its uri.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.NamespaceException.html#\PHPCR\NamespaceException">\PHPCR\NamespaceException</a></td><td><em>if the specified uri is unknown.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getNamespacePrefixes()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getNamespacePrefixes</span><span class="nb-faded-text">()</span> : array</code><div class="description"><p class="short_description">Returns all prefixes currently mapped to URIs in this Session.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>array</td><td>The list of currently registered namespace prefixes.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if an error occurs</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getNamespaceURI()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getNamespaceURI</span><span class="nb-faded-text">(string $prefix)</span> : string</code><div class="description"><p class="short_description">Returns the URI to which the given prefix is mapped as currently set in
this Session.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$prefix</th><td>string</td><td><em><p>The identifier of the namespace location to be
     returned.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>The location of the namespace definition identified by
     its prefix.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.NamespaceException.html#\PHPCR\NamespaceException">\PHPCR\NamespaceException</a></td><td><em>if the specified prefix is unknown.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getNode()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getNode</span><span class="nb-faded-text">(string $absPath, int $depthHint = -1)</span> : <a href="../files/phpcr.src.PHPCR.NodeInterface.html#\PHPCR\NodeInterface">\PHPCR\NodeInterface</a></code><div class="description"><p class="short_description">Returns the node at the specified absolute path in the workspace.</p></div><div class="code-tabs"><div class="long-description"><p>If $depthHint is set, the implementation may cache the subtree rooted at
$absPath to depth $depthHint in preparation for possible future access
requests by the client.</p>

<p>The parameter $depthHint <i>may</i> be used by an implementation to
improve the efficiency of access for nodes in the subtree rooted at
$absPath. This may, for example, be advantageous to client-server
implementations by reducing round-trips to the server. An implementation
is free to ignore the $depthHint parameter.</p>

<p>If the implementation does not ignore $depthHint then the following
rules apply:</p>

<p>$depthHint &lt; 0: Equivalent to omitting the $deptHint
$depthHint = 0: The node at $absPath and all its properties are
retrieved. No child nodes (nor any further descendants) are retrieved.
This is referred to as a <i>shallow</i> getNode.</p>

<p>$depthHint &gt; 0: The node at absPath and all its properties are
retrieved as well as all descendant nodes (and their respective
properties) up to degree $depthHint. A $depthHint of 1 retrieves the
node at $absPath and all its child nodes.
A $depthHint of 2 retrieves the node at $absPath, all its child nodes
and all <i>their</i> child nodes in turn. And so on.</p>

<p>An implementation is free to set a limit on the amount of data cached
due to the $depthHint parameter. Thus, the implementation may fail to
retrieve to the full depth requested in cases where that depth is large
and the data size of the nodes and properties in the subtree is also
large. In order to guarantee a retrieval to the maximum depth possible,
the client can set $depthHint to PHP_INT_MAX.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPath</th><td>string</td><td><em><p>An absolute path.</p></em></td></tr><tr><th>$depthHint</th><td>int</td><td><em><p>The requested caching depth</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.NodeInterface.html#\PHPCR\NodeInterface">\PHPCR\NodeInterface</a></td><td>A node</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.PathNotFoundException.html#\PHPCR\PathNotFoundException">\PHPCR\PathNotFoundException</a></td><td><em>if no accessible node is found at the specified path.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getNodeByIdentifier()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getNodeByIdentifier</span><span class="nb-faded-text">(string $id)</span> : <a href="../files/phpcr.src.PHPCR.NodeInterface.html#\PHPCR\NodeInterface">\PHPCR\NodeInterface</a></code><div class="description"><p class="short_description">Returns the node specified by the given identifier.</p></div><div class="code-tabs"><div class="long-description"><p>Applies to both referenceable and non-referenceable nodes.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$id</th><td>string</td><td><em><p>An identifier.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.NodeInterface.html#\PHPCR\NodeInterface">\PHPCR\NodeInterface</a></td><td>A Node.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.ItemNotFoundException.html#\PHPCR\ItemNotFoundException">\PHPCR\ItemNotFoundException</a></td><td><em>if no node with the specified
     identifier exists or if this Session does not have read access to
     the node with the specified identifier.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getNodes()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getNodes</span><span class="nb-faded-text">(array $absPaths)</span> : \Iterator</code><div class="description"><p class="short_description">Returns an iterator over all the nodes at the specified absolute paths
in the workspace that exist and are accessible to this session.</p></div><div class="code-tabs"><div class="long-description"><p>If none of the specified paths leads to an existing and accessible
node then an empty iterator is returned.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPaths</th><td>array</td><td><em><p>An array containing absolute paths.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>\Iterator</td><td>over all (matching) child Nodes implementing
     &lt;b&gt;SeekableIterator&lt;/b&gt; and &lt;b&gt;Countable&lt;/b&gt;. Keys are the
     paths, values the corresponding NodeInterface instances.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if an error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd><dt>Since</dt><dd>JCR 2.1
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getNodesByIdentifier()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getNodesByIdentifier</span><span class="nb-faded-text">(array $ids)</span> : \Iterator</code><div class="description"><p class="short_description">Returns an iterator over the set of nodes specified by the given
identifiers in this workspace that are accessible to this session.</p></div><div class="code-tabs"><div class="long-description"><p>Applies to both referenceable and non-referenceable nodes.
If none of the specified identifiers refer to an existing and accessible
node then an empty iterator is returned.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$ids</th><td>array</td><td><em><p>An array of identifiers.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>\Iterator</td><td>over all (matching) child Nodes implementing
     &lt;b&gt;SeekableIterator&lt;/b&gt; and &lt;b&gt;Countable&lt;/b&gt;. Keys are the
     identifiers, values the corresponding NodeInterface instances.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if an error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd><dt>Since</dt><dd>JCR 2.1
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getProperties()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getProperties</span><span class="nb-faded-text">(string[] $absPaths)</span> : \Iterator</code><div class="description"><p class="short_description">Returns an iterator over all the properties at the specified absolute
paths in the workspace that exist and are accessible to this session.</p></div><div class="code-tabs"><div class="long-description"><p>If none of the specified paths leads to an existing and accessible
property then an empty iterator is returned.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPaths</th><td>string[]</td><td><em><p>An array of absolute paths.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>\Iterator</td><td>over all (matching) child Nodes implementing
     &lt;b&gt;SeekableIterator&lt;/b&gt; and &lt;b&gt;Countable&lt;/b&gt;. Keys are the
     paths, values the corresponding NodeInterface instances.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>If an error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd><dt>Since</dt><dd>JCR 2.1
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getProperty()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getProperty</span><span class="nb-faded-text">(string $absPath)</span> : <a href="../files/phpcr.src.PHPCR.PropertyInterface.html#\PHPCR\PropertyInterface">\PHPCR\PropertyInterface</a></code><div class="description"><p class="short_description">Returns the property at the specified absolute path in the workspace.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPath</th><td>string</td><td><em><p>An absolute path.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.PropertyInterface.html#\PHPCR\PropertyInterface">\PHPCR\PropertyInterface</a></td><td>A property</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.PathNotFoundException.html#\PHPCR\PathNotFoundException">\PHPCR\PathNotFoundException</a></td><td><em>if no accessible property is found
     at the specified path.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getRepository()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getRepository</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.RepositoryInterface.html#\PHPCR\RepositoryInterface">\PHPCR\RepositoryInterface</a></code><div class="description"><p class="short_description">Returns the Repository object through which this session was acquired.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryInterface.html#\PHPCR\RepositoryInterface">\PHPCR\RepositoryInterface</a></td><td>a Repository object.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getRetentionManager()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getRetentionManager</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.Retention.RetentionManagerInterface.html#\PHPCR\Retention\RetentionManagerInterface">\PHPCR\Retention\RetentionManagerInterface</a></code><div class="description"><p class="short_description">Returns the retention and hold manager for this Session.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Retention.RetentionManagerInterface.html#\PHPCR\Retention\RetentionManagerInterface">\PHPCR\Retention\RetentionManagerInterface</a></td><td>the retention manager
     for this Session.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.UnsupportedRepositoryOperationException.html#\PHPCR\UnsupportedRepositoryOperationException">\PHPCR\UnsupportedRepositoryOperationException</a></td><td><em>if retention and
     hold are not supported.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getRootNode()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getRootNode</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.NodeInterface.html#\PHPCR\NodeInterface">\PHPCR\NodeInterface</a></code><div class="description"><p class="short_description">Returns the root node of the workspace, "/".</p></div><div class="code-tabs"><div class="long-description"><p>This node is the main access point to the content of the workspace.</p></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.NodeInterface.html#\PHPCR\NodeInterface">\PHPCR\NodeInterface</a></td><td>The root node of the workspace: a Node object.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if an error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getUserID()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getUserID</span><span class="nb-faded-text">()</span> : string</code><div class="description"><p class="short_description">Gets the user ID associated with this Session.</p></div><div class="code-tabs"><div class="long-description"><p>How the user ID is set is up to the implementation, it may be a string
passed in as part of the credentials or it may be a string acquired in
some other way. This method is free to return an "anonymous user ID" or
null.</p></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>The user id associated with this Session.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::getWorkspace()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getWorkspace</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.WorkspaceInterface.html#\PHPCR\WorkspaceInterface">\PHPCR\WorkspaceInterface</a></code><div class="description"><p class="short_description">Returns the Workspace attached to this Session.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.WorkspaceInterface.html#\PHPCR\WorkspaceInterface">\PHPCR\WorkspaceInterface</a></td><td>a Workspace object.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::hasCapability()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">hasCapability</span><span class="nb-faded-text">(string $methodName, object $target, array $arguments)</span> : boolean</code><div class="description"><p class="short_description">Checks whether an operation can be performed given as much context as
can be determined by the repository, including:</p></div><div class="code-tabs"><div class="long-description"><ul>
<li>Permissions granted to the current user, including access control
 privileges.</li>
<li>Current state of the target object (reflecting locks, checkin/checkout
status, retention and hold status etc.).</li>
<li>Repository capabilities.</li>
<li>Node type-enforced restrictions.</li>
<li>Repository configuration-specific restrictions.</li>
</ul>

<p>The implementation of this method is best effort: returning false
guarantees that the operation cannot be performed, but returning true
does not guarantee the opposite.</p>

<p>The methodName parameter identifies the method in question by its name
as defined in the phpdoc.</p>

<p>The target parameter identifies the object on which the specified method
is called.</p>

<p>The arguments parameter contains a hash map consisting of parameter name
mapping to parameter value.</p>

<p>For example, given a Session $s and Node $n then</p>

<pre>

$p['relPath'] = 'foo';
$b = $s->hasCapability("addNode", $n, $p);
</pre>

<p>will result in $b === false if a child node called foo cannot be added
to the node $n within the session $s.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$methodName</th><td>string</td><td><em><p>the name of the method.</p></em></td></tr><tr><th>$target</th><td>object</td><td><em><p>the target object of the operation.</p></em></td></tr><tr><th>$arguments</th><td>array</td><td><em><p>the arguments of the operation.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>boolean</td><td>false if the operation cannot be performed, true if the
     operation can be performed or if the repository cannot determine
     whether the operation can be performed.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if an error occurs</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::hasPendingChanges()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">hasPendingChanges</span><span class="nb-faded-text">()</span> : boolean</code><div class="description"><p class="short_description">Determines if the current session has pending changes.</p></div><div class="code-tabs"><div class="long-description"><p>Returns true if this session holds pending (that is, unsaved) changes;
otherwise returns false.</p></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>boolean</td><td>a boolean</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if an error occurs</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::hasPermission()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">hasPermission</span><span class="nb-faded-text">(string $absPath, string $actions)</span> : boolean</code><div class="description"><p class="short_description">Determines if the current session is permitted to run the passed
actions.</p></div><div class="code-tabs"><div class="long-description"><p>Returns true if this Session has permission to perform the specified
actions at the specified absPath and false otherwise.
The actions parameter is a comma separated list of action strings.</p>

<p>The following action strings are defined:</p>

<ul>
<li>add_node: If hasPermission(path, "add_node") returns true, then this
 Session has permission to add a node at path.</li>
<li>set_property: If hasPermission(path, "set_property") returns true,
 then this Session has permission to set (add or change) a property
 at path.</li>
<li>remove: If hasPermission(path, "remove") returns true, then this
 Session has permission to remove an item at path.</li>
<li>read: If hasPermission(path, "read") returns true, then this Session
 has permission to retrieve (and read the value of, in the case of
 a property) an item at path.</li>
</ul>

<p>When more than one action is specified in the actions parameter, this
method will only return true if this Session has permission to perform
all of the listed actions at the specified path.</p>

<p>The information returned through this method will only reflect the
access control status (both JCR defined and implementation-specific) and
not other restrictions that may exist, such as node type constraints. For
example, even though hasPermission may indicate that a particular Session
may add a property at /A/B/C, the node type of the node at /A/B may
prevent the addition of a property called C.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPath</th><td>string</td><td><em><p>an absolute path.</p></em></td></tr><tr><th>$actions</th><td>string</td><td><em><p>a comma separated list of action strings.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>boolean</td><td>true if this Session has permission to perform the
     specified actions at the specified absPath.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if an error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::impersonate()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">impersonate</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.CredentialsInterface.html#\PHPCR\CredentialsInterface">\PHPCR\CredentialsInterface</a> $credentials)</span> : <a href="../files/phpcr.src.PHPCR.SessionInterface.html#\PHPCR\SessionInterface">\PHPCR\SessionInterface</a></code><div class="description"><p class="short_description">Returns a new session in accordance with the specified (new)
Credentials.</p></div><div class="code-tabs"><div class="long-description"><p>Allows the current user to acquire a new session using incomplete or
relaxed credentials requirements (perhaps including a user name but no
password, for example), assuming that this Session gives them that
permission. This method can be used to "impersonate" another user or to
clone the current session by passing in the same credentials that were
used to acquire the current session.</p>

<p>The new Session is tied to a new Workspace instance. In other words,
Workspace instances are not re-used. However, the Workspace instance
returned represents the same actual persistent workspace entity in the
repository as is represented by the Workspace object tied to the current
Session.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$credentials</th><td><a href="../files/phpcr.src.PHPCR.CredentialsInterface.html#\PHPCR\CredentialsInterface">\PHPCR\CredentialsInterface</a></td><td><em><p>A Credentials object</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.SessionInterface.html#\PHPCR\SessionInterface">\PHPCR\SessionInterface</a></td><td>a Session object</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.LoginException.html#\PHPCR\LoginException">\PHPCR\LoginException</a></td><td><em>if the current session does not have
     sufficient access to perform the operation.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::importXML()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">importXML</span><span class="nb-faded-text">(string $parentAbsPath, string $uri, integer $uuidBehavior)</span> : void</code><div class="description"><p class="short_description">Deserializes an XML document and adds the resulting item subgraph as a
child of the node at $parentAbsPath.</p></div><div class="code-tabs"><div class="long-description"><p>If the incoming XML does not appear to be a JCR system view XML document
then it is interpreted as a document view XML document.</p>

<p>The tree of new items is built in the transient storage of the Session.
In order to persist the new content, save must be called. The advantage
of this through-the-session method is that (depending on what constraint
checks the implementation leaves until save) structures that violate
node type constraints can be imported, fixed and then saved. The
disadvantage is that a large import will result in a large cache of
pending nodes in the session. See WorkspaceInterface::importXML() for a
version of this method that does not go through the Session.</p>

<p>The flag $uuidBehavior governs how the identifiers of incoming nodes are
handled. There are four options:</p>

<ul>
<li>ImportUUIDBehavior::IMPORT_UUID_CREATE_NEW: Incoming nodes are added
 in the same way that new node is added with Node::addNode(). That
 is, they are either assigned newly created identifiers upon
 addition or upon save (depending on the implementation, see 4.9.1.1
 When Identifiers are Assigned in the specification). In either
 case, identifier collisions will not occur.
 (Weak)references will point to the original node if existing, to
 the imported node with matching id otherwise.</li>
<li>ImportUUIDBehavior::IMPORT_UUID_COLLISION_REMOVE_EXISTING: If an
 incoming node has the same identifier as a node already existing in
 the workspace then the already existing node (and its subgraph) is
 removed from wherever it may be in the workspace before the
 incoming node is added. Note that this can result in nodes
 "disappearing" from locations in the workspace that are remote from
 the location to which the incoming subgraph is being written. Both
 the removal and the new addition will be dispatched on save.</li>
<li>ImportUUIDBehavior::IMPORT_UUID_COLLISION_REPLACE_EXISTING: If an
 incoming node has the same identifier as a node already existing in
 the workspace, then the already-existing node is replaced by the
 incoming node in the same position as the existing node. Note that
 this may result in the incoming subgraph being disaggregated and
 "spread around" to different locations in the workspace. In the
 most extreme case this behavior may result in no node at all being
 added as child of parentAbsPath. This will occur if the topmost
 element of the incoming XML has the same identifier as an existing
 node elsewhere in the workspace. The change will be dispatched on
 save.</li>
<li>ImportUUIDBehavior::IMPORT_UUID_COLLISION_THROW: If an incoming node
 has the same identifier as a node already existing in the workspace
 then an ItemExistsException is thrown.</li>
</ul>

<p>Unlike WorkspaceInterface::importXML(), this method does not
necessarily enforce all node type constraints during deserialization.
Those that would be immediately enforced in a normal write method
(NodeInterface::addNode(), NodeInterface::setProperty() etc.) of this
implementation cause an immediate ConstraintViolationException during
deserialization. All other constraints are checked on save, just as they
are in normal write operations. However, which node type constraints are
enforced depends upon whether node type information in the imported data
is respected, and this is an implementation-specific issue.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$parentAbsPath</th><td>string</td><td><em><p>the absolute path of the node below which
     the deserialized subgraph is added.</p></em></td></tr><tr><th>$uri</th><td>string</td><td><em><p>Source location for the XML to be read, Can be
     anything that works with fopen.</p></em></td></tr><tr><th>$uuidBehavior</th><td>integer</td><td><em><p>a four-value flag that governs how incoming
     identifiers are handled.</p>
</em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/http://php.net/manual/en/class.runtimeexception.php">\RuntimeException</a></td><td><em>if an error during an I/O operation occurs.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.PathNotFoundException.html#\PHPCR\PathNotFoundException">\PHPCR\PathNotFoundException</a></td><td><em>if no node exists at parentAbsPath
     and this implementation performs this validation immediately.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.ItemExistsException.html#\PHPCR\ItemExistsException">\PHPCR\ItemExistsException</a></td><td><em>if deserialization would overwrite an
     existing item and this implementation performs this validation
     immediately.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.NodeType.ConstraintViolationException.html#\PHPCR\NodeType\ConstraintViolationException">\PHPCR\NodeType\ConstraintViolationException</a></td><td><em>if a node type or
     other implementation-specific constraint is violated that would be
     checked on a session write method or if uuidBehavior is set to
     IMPORT_UUID_COLLISION_REMOVE_EXISTING and an incoming node has the
     same UUID as the node at parentAbsPath or one of its ancestors.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.Version.VersionException.html#\PHPCR\Version\VersionException">\PHPCR\Version\VersionException</a></td><td><em>if the node at $parentAbsPath is
     read-only due to a checked-in node and this implementation performs
     this validation immediately.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.InvalidSerializedDataException.html#\PHPCR\InvalidSerializedDataException">\PHPCR\InvalidSerializedDataException</a></td><td><em>if incoming stream is not
     a valid XML document.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.Lock.LockException.html#\PHPCR\Lock\LockException">\PHPCR\Lock\LockException</a></td><td><em>if a lock prevents the addition of the
     subgraph and this implementation performs this validation
     immediately.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::isLive()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isLive</span><span class="nb-faded-text">()</span> : boolean</code><div class="description"><p class="short_description">Determines if the current session is still valid.</p></div><div class="code-tabs"><div class="long-description"><p>Returns true if this Session object is usable by the client. Otherwise,
returns false.</p>

<p>A usable Session is one that is neither logged-out, timed-out nor in
any other way disconnected from the repository.</p></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>boolean</td><td>true if this Session is usable, false otherwise.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::itemExists()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">itemExists</span><span class="nb-faded-text">(string $absPath)</span> : boolean</code><div class="description"><p class="short_description">Determines if the item identified by a path does exists.</p></div><div class="code-tabs"><div class="long-description"><p>Returns true if an item exists at absPath and this Session has read
access to it; otherwise returns false.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPath</th><td>string</td><td><em><p>An absolute path to an item to be found.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>boolean</td><td>True if the item exists, else false.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if absPath is not a well-formed
     absolute path.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::logout()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">logout</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description">Releases all resources associated with this Session.</p></div><div class="code-tabs"><div class="long-description"><p>This method should be called when a Session is no longer needed.</p></div><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::move()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">move</span><span class="nb-faded-text">(string $srcAbsPath, string $destAbsPath)</span> : void</code><div class="description"><p class="short_description">Moves the node at srcAbsPath (and its entire subgraph) to the new
location at destAbsPath.</p></div><div class="code-tabs"><div class="long-description"><p>This is a session-write method and therefor requires a save to dispatch
the change.</p>

<p>The identifiers of referenceable nodes must not be changed by a move.
The identifiers of non-referenceable nodes may change.</p>

<p>A ConstraintViolationException is thrown either immediately, on dispatch
or on persist, if performing this operation would violate a node type or
implementation-specific constraint. Implementations may differ on when
this validation is performed.</p>

<p>As well, a ConstraintViolationException will be thrown on persist if an
attempt is made to separately save either the source or destination
node.</p>

<p>Note that this behaviour differs from that of WorkspaceInterface::move(
$srcAbsPath, $destAbsPath), which is a workspace-write method and
therefore immediately dispatches changes.</p>

<p>The destAbsPath provided must not have an index on its final element. If
ordering is supported by the node type of the parent node of the new
location, then the newly moved node is appended to the end of the child
node list.</p>

<p>This method cannot be used to move an individual property by itself. It
moves an entire node and its subgraph.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$srcAbsPath</th><td>string</td><td><em><p>the root of the subgraph to be moved.</p></em></td></tr><tr><th>$destAbsPath</th><td>string</td><td><em><p>the location to which the subgraph is to be
     moved.</p></em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.ItemExistsException.html#\PHPCR\ItemExistsException">\PHPCR\ItemExistsException</a></td><td><em>if a node already exists at
     destAbsPath and same-name siblings are not allowed.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.PathNotFoundException.html#\PHPCR\PathNotFoundException">\PHPCR\PathNotFoundException</a></td><td><em>if either srcAbsPath or destAbsPath
     cannot be found and this implementation performs this validation
     immediately.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.Version.VersionException.html#\PHPCR\Version\VersionException">\PHPCR\Version\VersionException</a></td><td><em>if the parent node of
     destAbsPath or the parent node of srcAbsPath is versionable and
     checked-in, or or is non-versionable and its nearest versionable
     ancestor is checked-in and this implementation performs this
     validation immediately.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.NodeType.ConstraintViolationException.html#\PHPCR\NodeType\ConstraintViolationException">\PHPCR\NodeType\ConstraintViolationException</a></td><td><em>if a node-type or
     other constraint violation is detected immediately and this
     implementation performs this validation immediately.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.Lock.LockException.html#\PHPCR\Lock\LockException">\PHPCR\Lock\LockException</a></td><td><em>if the move operation would violate a
     lock and this implementation performs this validation immediately.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if the last element of destAbsPath
     has an index or if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::nodeExists()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">nodeExists</span><span class="nb-faded-text">(string $absPath)</span> : boolean</code><div class="description"><p class="short_description">Determines if the node identified by the given absolute path does exist.</p></div><div class="code-tabs"><div class="long-description"><p>Returns true if a node exists at absPath and this Session has read
access to it; otherwise returns false.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPath</th><td>string</td><td><em><p>An absolute path to the node to be found.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>boolean</td><td>True if the item does esist</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if absPath is not a well-formed
     absolute path.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::propertyExists()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">propertyExists</span><span class="nb-faded-text">(string $absPath)</span> : boolean</code><div class="description"><p class="short_description">Determines the existance of a property.</p></div><div class="code-tabs"><div class="long-description"><p>Returns true if a property exists at absPath and this Session has read
access to it; otherwise returns false.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPath</th><td>string</td><td><em><p>An absolute path to the property to be found.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>boolean</td><td>True if the property is available.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if absPath is not a well-formed
     absolute path.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::refresh()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">refresh</span><span class="nb-faded-text">(boolean $keepChanges)</span> : void</code><div class="description"><p class="short_description">Reloads the current session.</p></div><div class="code-tabs"><div class="long-description"><p>If keepChanges is false, this method discards all pending changes
currently recorded in this Session and returns all items to reflect the
current saved state. Outside a transaction this state is simply the
current state of persistent storage. Within a transaction, this state
will reflect persistent storage as modified by changes that have been
saved but not yet committed.</p>

<p>If keepChanges is true then pending change are not discarded but items
that do not have changes pending have their state refreshed to reflect
the current saved state, thus revealing changes made by other sessions.</p>

<p>Implementors note: For performance reasons, implementations should only
mark nodes as dirty and reload them from the backend only if actually
needed.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$keepChanges</th><td>boolean</td><td><em><p>Switch to override current changes kept in
     the session.</p></em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if an error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::removeItem()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">removeItem</span><span class="nb-faded-text">(string $absPath)</span> : void</code><div class="description"><p class="short_description">Removes the specified item and its subgraph.</p></div><div class="code-tabs"><div class="long-description"><p>This is a session-write method and therefore requires a save in order to
dispatch the change.</p>

<p>If a node with same-name siblings is removed, this decrements by one the
indices of all the siblings with indices greater than that of the
removed node. In other words, a removal compacts the array of same-name
siblings and causes the minimal re-numbering required to maintain the
original order but leave no gaps in the numbering.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$absPath</th><td>string</td><td><em><p>the absolute path of the item to be removed.</p></em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Version.VersionException.html#\PHPCR\Version\VersionException">\PHPCR\Version\VersionException</a></td><td><em>if the parent node of the item
     at absPath is read-only due to a checked-in node and this
     implementation performs this validation immediately.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.Lock.LockException.html#\PHPCR\Lock\LockException">\PHPCR\Lock\LockException</a></td><td><em>if a lock prevents the removal of the
     specified item and this implementation performs this validation
     immediately instead.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.NodeType.ConstraintViolationException.html#\PHPCR\NodeType\ConstraintViolationException">\PHPCR\NodeType\ConstraintViolationException</a></td><td><em>if removing the
     specified item would violate a node type or implementation-specific
     constraint and this implementation performs this validation
     immediately.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.PathNotFoundException.html#\PHPCR\PathNotFoundException">\PHPCR\PathNotFoundException</a></td><td><em>if no accessible item is found at
     $absPath property or if the specified item or an item in its
     subgraph is currently the target of a REFERENCE property located in
     this workspace but outside the specified item's subgraph and the
     current Session does not have read access to that REFERENCE
     property.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd><dt>See</dt><dd>\PHPCR\Item::remove()
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::save()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">save</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description">Validates all pending changes currently recorded in this Session.</p></div><div class="code-tabs"><div class="long-description"><p>If validation of all pending changes succeeds, then this change
information is cleared from the Session.</p>

<p>If the save occurs outside a transaction, the changes are dispatched and
persisted. Upon being persisted the changes become potentially visible
to other Sessions bound to the same persistent workspace.</p>

<p>If the save occurs within a transaction, the changes are dispatched but
are not persisted until the transaction is committed.</p>

<p>If validation fails, then no pending changes are dispatched and they
remain recorded on the Session. There is no best-effort or partial save.</p></div><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.AccessDeniedException.html#\PHPCR\AccessDeniedException">\PHPCR\AccessDeniedException</a></td><td><em>if any of the changes to be
     persisted would violate the access privileges of the this Session.
     Also thrown if any of the changes to be persisted would cause the
     removal of a node that is currently referenced by a REFERENCE
     property that this Session does not have read access to.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.ItemExistsException.html#\PHPCR\ItemExistsException">\PHPCR\ItemExistsException</a></td><td><em>if any of the changes to be persisted
     would be prevented by the presence of an already existing item in
     the workspace.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.NodeType.ConstraintViolationException.html#\PHPCR\NodeType\ConstraintViolationException">\PHPCR\NodeType\ConstraintViolationException</a></td><td><em>if any of the
     changes to be persisted would violate a node type or restriction.
     Additionally, a repository may use this exception to enforce
     implementation- or configuration-dependent restrictions.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.InvalidItemStateException.html#\PHPCR\InvalidItemStateException">\PHPCR\InvalidItemStateException</a></td><td><em>if any of the changes to be
     persisted conflicts with a change already persisted through another
     session and the implementation is such that this conflict can only
     be detected at save-time and therefore was not detected earlier, at
     change-time.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.ReferentialIntegrityException.html#\PHPCR\ReferentialIntegrityException">\PHPCR\ReferentialIntegrityException</a></td><td><em>if any of the changes to be
     persisted would cause the removal of a node that is currently
     referenced by a REFERENCE property that this Session has read
     access to.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.Version.VersionException.html#\PHPCR\Version\VersionException">\PHPCR\Version\VersionException</a></td><td><em>if the save would make a result
     in a change to persistent storage that would violate the read-only
     status of a checked-in node.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.Lock.LockException.html#\PHPCR\Lock\LockException">\PHPCR\Lock\LockException</a></td><td><em>if the save would result in a change
     to persistent storage that would violate a lock.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.NodeType.NoSuchNodeTypeException.html#\PHPCR\NodeType\NoSuchNodeTypeException">\PHPCR\NodeType\NoSuchNodeTypeException</a></td><td><em>if the save would result
     in the addition of a node with an unrecognized node type.</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\SessionInterface::setNamespacePrefix()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setNamespacePrefix</span><span class="nb-faded-text">(string $prefix, string $uri)</span> : void</code><div class="description"><p class="short_description">Sets the name of a namespace prefix.</p></div><div class="code-tabs"><div class="long-description"><p>Within the scope of this Session, this method maps uri to prefix. The
remapping only affects operations done through this Session. To clear
all remappings, the client must acquire a new Session.
All local mappings already present in the Session that include either
the specified prefix or the specified uri are removed and the new
mapping is added.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$prefix</th><td>string</td><td><em><p>The namespace prefix to be set as identifier.</p></em></td></tr><tr><th>$uri</th><td>string</td><td><em><p>The location of the namespace definition (usually an
     uri).</p>
</em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.NamespaceException.html#\PHPCR\NamespaceException">\PHPCR\NamespaceException</a></td><td><em>if an attempt is made to map a
     namespace URI to a prefix beginning with the characters "xml" (in
     any combination of case) or if an attempt is made to map either the
     empty prefix or the empty namespace (i.e., if either $prefix or
     $uri are the empty string).</em></td></tr><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if another error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.0.0a12</a>.
        </small></body></html>
