<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>PHPCR API and PHPCR-Utils » \PHPCR\Query\QueryInterface</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">PHPCR API and PHPCR-Utils</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/PHPCR.html"><i class="icon-th"></i> PHPCR</a></li>
<li><a>Packages</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/phpcr.html"><i class="icon-folder-open"></i> phpcr</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">123</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul><li>todo 
                <span class="label label-info">12</span>
</li></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method_bindValue" title="bindValue :: Binds the given value to the variable named $varName."><span class="description">Binds the given value to the variable named $varName.</span><pre>bindValue()</pre></a></li>
<li class="method public "><a href="#method_execute" title="execute :: Executes this query and returns a QueryResult object."><span class="description">Executes this query and returns a QueryResult object.</span><pre>execute()</pre></a></li>
<li class="method public "><a href="#method_getBindVariableNames" title="getBindVariableNames :: Returns the names of the bind variables in this query."><span class="description">Returns the names of the bind variables in this query.</span><pre>getBindVariableNames()</pre></a></li>
<li class="method public "><a href="#method_getLanguage" title="getLanguage :: Returns the language set for this query."><span class="description">Returns the language set for this query.</span><pre>getLanguage()</pre></a></li>
<li class="method public "><a href="#method_getStatement" title="getStatement :: Returns the statement defined for this query."><span class="description">Returns the statement defined for this query.</span><pre>getStatement()</pre></a></li>
<li class="method public "><a href="#method_getStoredQueryPath" title="getStoredQueryPath :: Fetches the path of the node representing this query."><span class="description">Fetches the path of the node representing this query.</span><pre>getStoredQueryPath()</pre></a></li>
<li class="method public "><a href="#method_setLimit" title="setLimit :: Sets the maximum size of the result set to limit."><span class="description">Sets the maximum size of the result set to limit.</span><pre>setLimit()</pre></a></li>
<li class="method public "><a href="#method_setOffset" title="setOffset :: Sets the start offset of the result set to offset."><span class="description">Sets the start offset of the result set to offset.</span><pre>setOffset()</pre></a></li>
<li class="method public "><a href="#method_storeAsNode" title="storeAsNode :: Creates a node of type nt:query holding this query at $absPath and
returns that node."><span class="description">Creates a node of type nt:query holding this query at $absPath and
returns that node.</span><pre>storeAsNode()</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i class="icon-custom icon-constant"></i> Constants
                    <ul>
<li class="constant  "><a href="#constant_JCR_JQOM" title="JCR_JQOM :: A string constant representing the JCR-JQOM query language."><span class="description">A string constant representing the JCR-JQOM query language.</span><pre>JCR_JQOM</pre></a></li>
<li class="constant  "><a href="#constant_JCR_SQL2" title="JCR_SQL2 :: A string constant representing the JCR-SQL2 query language."><span class="description">A string constant representing the JCR-SQL2 query language.</span><pre>JCR_SQL2</pre></a></li>
<li class="constant  "><a href="#constant_SQL" title="SQL :: A string constant representing the (deprecated in JSR-283) SQL query language."><span class="description">A string constant representing the (deprecated in JSR-283) SQL query language.</span><pre>SQL</pre></a></li>
<li class="constant  "><a href="#constant_XPATH" title="XPATH :: A string constant representing the (deprecated in JSR-283) XPATH query language."><span class="description">A string constant representing the (deprecated in JSR-283) XPATH query language.</span><pre>XPATH</pre></a></li>
</ul>
</li>
</ul>
</div>
<div class="span8">
<a id="\PHPCR\Query\QueryInterface"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/PHPCR.html">PHPCR</a></li>
<li>
<span class="divider">\</span><a href="../namespaces/PHPCR.Query.html">Query</a>
</li>
<li class="active">
<span class="divider">\</span><a href="../classes/PHPCR.Query.QueryInterface.html">QueryInterface</a>
</li>
</ul>
<div class="element interface">
<p class="short_description">A Query object.</p>
<div class="details">
<div class="long_description"><p><b>PHPCR Note:</b> Instead of the dropped ValueInterface, bindValue uses native php variables</p></div>
<table class="table table-bordered">
<tr>
<th>package</th>
<td><a href="../packages/phpcr.interfaces.html">phpcr</a></td>
</tr>
<tr>
<th>subpackage</th>
<td>interfaces</td>
</tr>
<tr>
<th>api</th>
<td></td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a id="method_bindValue"></a><div class="element clickable method public method_bindValue" data-toggle="collapse" data-target=".method_bindValue .collapse">
<h2>Binds the given value to the variable named $varName.</h2>
<pre>bindValue(string $varName, mixed $value) : void</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$varName</h4>
<code>string</code><p>name of variable in query</p></div>
<div class="subelement argument">
<h4>$value</h4>
<code>mixed</code><p>value to bind</p></div>
<h3>Exceptions</h3>
<table class="table table-bordered">
<tr>
<th><code><a href="http://php.net/manual/en/class.invalidargumentexception.php">\InvalidArgumentException</a></code></th>
<td>if $varName is not a valid variable in this query.</td>
</tr>
<tr>
<th><code><a href="../classes/PHPCR.RepositoryException.html">\PHPCR\RepositoryException</a></code></th>
<td>if an error occurs.</td>
</tr>
</table>
</div></div>
</div>
<a id="method_execute"></a><div class="element clickable method public method_execute" data-toggle="collapse" data-target=".method_execute .collapse">
<h2>Executes this query and returns a QueryResult object.</h2>
<pre>execute() : <a href="../classes/PHPCR.Query.QueryResultInterface.html">\PHPCR\Query\QueryResultInterface</a></pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Exceptions</h3>
<table class="table table-bordered">
<tr>
<th><code><a href="../classes/PHPCR.Query.InvalidQueryException.html">\PHPCR\Query\InvalidQueryException</a></code></th>
<td>if the query contains an unbound variable.</td>
</tr>
<tr>
<th><code><a href="../classes/PHPCR.RepositoryException.html">\PHPCR\RepositoryException</a></code></th>
<td>if an error occurs</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response">
<code><a href="../classes/PHPCR.Query.QueryResultInterface.html">\PHPCR\Query\QueryResultInterface</a></code>a QueryResult object</div>
</div></div>
</div>
<a id="method_getBindVariableNames"></a><div class="element clickable method public method_getBindVariableNames" data-toggle="collapse" data-target=".method_getBindVariableNames .collapse">
<h2>Returns the names of the bind variables in this query.</h2>
<pre>getBindVariableNames() : array</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>If this query does not contains any bind variables then an empty array is returned.</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code><a href="../classes/PHPCR.RepositoryException.html">\PHPCR\RepositoryException</a></code></th>
<td>if an error occurs.</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the names of the bind variables in this query.</div>
</div></div>
</div>
<a id="method_getLanguage"></a><div class="element clickable method public method_getLanguage" data-toggle="collapse" data-target=".method_getLanguage .collapse">
<h2>Returns the language set for this query.</h2>
<pre>getLanguage() : string</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>This will be one of the query language constants returned by
QueryManagerInterface::getSupportedQueryLanguages().</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>The query language.</div>
</div></div>
</div>
<a id="method_getStatement"></a><div class="element clickable method public method_getStatement" data-toggle="collapse" data-target=".method_getStatement .collapse">
<h2>Returns the statement defined for this query.</h2>
<pre>getStatement() : string</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>If the language of this query is string-based (like JCR-SQL2), this method
will return the statement that was used to create this query.</p>

<p>If the language of this query is JCR-JQOM, this method will return the
JCR-SQL2 equivalent of the JCR-JQOM object tree.</p>

<p>This is the standard serialization of JCR-JQOM and is also the string stored
in the jcr:statement property if the query is persisted. See storeAsNode($absPath).</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>The query statement.</div>
</div></div>
</div>
<a id="method_getStoredQueryPath"></a><div class="element clickable method public method_getStoredQueryPath" data-toggle="collapse" data-target=".method_getStoredQueryPath .collapse">
<h2>Fetches the path of the node representing this query.</h2>
<pre>getStoredQueryPath() : string</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>If this is a Query object that has been stored using QueryInterface::storeAsNode()
(regardless of whether it has been saved yet) or retrieved using
QueryManagerInterface::getQuery()), then this method returns the path
of the nt:query node that stores the query.</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Exceptions</h3>
<table class="table table-bordered">
<tr>
<th><code><a href="../classes/PHPCR.ItemNotFoundException.html">\PHPCR\ItemNotFoundException</a></code></th>
<td>if this query is not a stored query.</td>
</tr>
<tr>
<th><code><a href="../classes/PHPCR.RepositoryException.html">\PHPCR\RepositoryException</a></code></th>
<td>if another error occurs.</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>Path of the node representing this query.</div>
</div></div>
</div>
<a id="method_setLimit"></a><div class="element clickable method public method_setLimit" data-toggle="collapse" data-target=".method_setLimit .collapse">
<h2>Sets the maximum size of the result set to limit.</h2>
<pre>setLimit(integer $limit) : void</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$limit</h4>
<code>integer</code><p>The amount of result items to be fetched.</p></div>
</div></div>
</div>
<a id="method_setOffset"></a><div class="element clickable method public method_setOffset" data-toggle="collapse" data-target=".method_setOffset .collapse">
<h2>Sets the start offset of the result set to offset.</h2>
<pre>setOffset(integer $offset) : void</pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$offset</h4>
<code>integer</code><p>The start point of the result set from when the item shall be fetched.</p></div>
</div></div>
</div>
<a id="method_storeAsNode"></a><div class="element clickable method public method_storeAsNode" data-toggle="collapse" data-target=".method_storeAsNode .collapse">
<h2>Creates a node of type nt:query holding this query at $absPath and
returns that node.</h2>
<pre>storeAsNode(string $absPath) : <a href="../classes/PHPCR.NodeInterface.html">\PHPCR\NodeInterface</a></pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>This is  a session-write method and therefore requires a
SessionInterface::save() to dispatch the change.</p>

<p>The $absPath provided must not have an index on its final element. If
ordering is supported by the node type of the parent node then the new
node is appended to the end of the child node list.</p></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$absPath</h4>
<code>string</code><p>absolute path the query should be stored at</p></div>
<h3>Exceptions</h3>
<table class="table table-bordered">
<tr>
<th><code><a href="../classes/PHPCR.ItemExistsException.html">\PHPCR\ItemExistsException</a></code></th>
<td>if an item at the specified path already exists,
                                   same-name siblings are not allowed and this implementation performs
                                   this validation immediately.</td>
</tr>
<tr>
<th><code><a href="../classes/PHPCR.PathNotFoundException.html">\PHPCR\PathNotFoundException</a></code></th>
<td>if the specified path implies intermediary Nodes that do not exist
                                     or the last element of relPath has an index, and this implementation
                                     performs this validation immediately.</td>
</tr>
<tr>
<th><code><a href="../classes/PHPCR.NodeType.ConstraintViolationException.html">\PHPCR\NodeType\ConstraintViolationException</a></code></th>
<td>if a node type or implementation-specific constraint
                                                     is violated or if an attempt is made to add a node as
                                                     the child of a property and this implementation
                                                     performs this validation immediately.</td>
</tr>
<tr>
<th><code><a href="../classes/PHPCR.Version.VersionException.html">\PHPCR\Version\VersionException</a></code></th>
<td>if the node to which the new child is being added is read-only due to
                                        a checked-in node and this implementation performs this validation
                                        immediately.</td>
</tr>
<tr>
<th><code><a href="../classes/PHPCR.Lock.LockException.html">\PHPCR\Lock\LockException</a></code></th>
<td>if a lock prevents the addition of the node and this implementation performs
                                  this validation immediately instead of waiting until save.</td>
</tr>
<tr>
<th><code><a href="../classes/PHPCR.UnsupportedRepositoryOperationException.html">\PHPCR\UnsupportedRepositoryOperationException</a></code></th>
<td>in a level 1 implementation.</td>
</tr>
<tr>
<th><code><a href="../classes/PHPCR.RepositoryException.html">\PHPCR\RepositoryException</a></code></th>
<td>if another error occurs or if the absPath provided has an index on its final
                                   element.</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response">
<code><a href="../classes/PHPCR.NodeInterface.html">\PHPCR\NodeInterface</a></code>the newly created node.</div>
</div></div>
</div>
<h3>
<i class="icon-custom icon-constant"></i> Constants</h3>
<a id="constant_JCR_JQOM"> </a><div class="element clickable constant  constant_JCR_JQOM" data-toggle="collapse" data-target=".constant_JCR_JQOM .collapse">
<h2>A string constant representing the JCR-JQOM query language.</h2>
<pre>JCR_JQOM </pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
</div></div>
</div>
<a id="constant_JCR_SQL2"> </a><div class="element clickable constant  constant_JCR_SQL2" data-toggle="collapse" data-target=".constant_JCR_SQL2 .collapse">
<h2>A string constant representing the JCR-SQL2 query language.</h2>
<pre>JCR_SQL2 </pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
</div></div>
</div>
<a id="constant_SQL"> </a><div class="element clickable constant  constant_SQL" data-toggle="collapse" data-target=".constant_SQL .collapse">
<h2>A string constant representing the (deprecated in JSR-283) SQL query language.</h2>
<pre>SQL </pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
</div></div>
</div>
<a id="constant_XPATH"> </a><div class="element clickable constant  constant_XPATH" data-toggle="collapse" data-target=".constant_XPATH .collapse">
<h2>A string constant representing the (deprecated in JSR-283) XPATH query language.</h2>
<pre>XPATH </pre>
<div class="labels"><span class="label label-info">API</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>api</th>
<td></td>
</tr></table>
</div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a10</a> and<br>
            generated on 2012-10-02T11:32:34+02:00.<br></footer></div>
</div>
</body>
</html>
