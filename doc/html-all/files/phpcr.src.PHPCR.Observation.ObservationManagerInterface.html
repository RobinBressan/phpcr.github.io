<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PHPCR API and PHPCR-Utils</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery.tools.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">phpcr/src/PHPCR/Observation/ObservationManagerInterface.php</h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="short-description">This file is part of the PHPCR API and was originally ported from the Java
JCR API to PHP by Karsten Dambekalns for the FLOW3 project.</div><div class="long-description"><p>Copyright 2008-2011 Karsten Dambekalns <a href="&#109;&#x61;&#x69;&#108;&#116;&#x6f;&#58;&#107;&#x61;&#114;&#115;&#x74;e&#110;&#x40;&#x74;&#121;&#x70;&#x6f;&#51;&#46;&#x6f;&#114;&#103;">&#107;&#x61;&#114;&#115;&#x74;e&#110;&#x40;&#x74;&#121;&#x70;&#x6f;&#51;&#46;&#x6f;&#114;&#103;</a></p>

<p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>

<pre><code>http://www.apache.org/licenses/LICENSE-2.0
</code></pre>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p></div></div><dl class="file-info"><dt>License</dt><dd><a href="http://www.apache.org/licenses/LICENSE-2.0">Apache Software License 2.0</a>
         
    </dd><dt>Link</dt><dd><a href="http://phpcr.github.com/">http://phpcr.github.com/</a>
         
    </dd></dl><a name="interfaces" class="anchor"></a><a id="\PHPCR\Observation\ObservationManagerInterface" class="anchor"></a><h2 class="interface">\PHPCR\Observation\ObservationManagerInterface<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>Default</small><div class="short-description">The ObservationManager object.</div><div class="long-description"><p>Acquired via WorkspaceInterface::getObservationManager(). Allows for the
registration and deregistration of event listeners.</p>

<p>The \Traversable interface enables the implementation to be addressed with
<b>foreach</b>. ObservationManager has to implement either \IteratorAggregate
or \Iterator.
The iterator is equivalent to <b>getRegisteredEventListeners()</b> returning
a list of all registered event listeners. The iterator keys have no
significant meaning.</p></div><dl class="class-info"><dt>Parent(s)</dt><dd>\Traversable</dd><dt>Api</dt><dd>
         
    </dd></dl><h3>Methods</h3><div><a id="\PHPCR\Observation\ObservationManagerInterface::addEventListener()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">addEventListener</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Observation.EventListenerInterface.html#\PHPCR\Observation\EventListenerInterface">\PHPCR\Observation\EventListenerInterface</a> $listener, <a href="../files/phpcr.src.PHPCR.Observation.EventFilterInterface.html#\PHPCR\Observation\EventFilterInterface">\PHPCR\Observation\EventFilterInterface</a> $filter)</span> : void</code><div class="description"><p class="short_description">Adds an event listener that listens for the events specified by the
passed {@link EventFilterInterface}.</p></div><div class="code-tabs"><div class="long-description"><p>In addition to the EventFilter, the set of events reported will be
further filtered by the access rights of the current Session.</p>

<p>See <a href="EventFilter">EventFilter</a> for a description of the filtering parameters
available.</p>

<p>The filter of an already-registered EventListener can be changed at
runtime by re-registering the same EventListener object (i.e. the same
actual Java object) with a new filter. The implementation must ensure
that no events are lost during the changeover.</p>

<p>In addition to the filters placed on a listener above, the scope of
observation support, in terms of which parts of a workspace are
observable, may also be subject to implementation-specific restrictions.
For example, in some repositories observation of changes in the
jcr:system subgraph may not be supported.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$listener</th><td><a href="../files/phpcr.src.PHPCR.Observation.EventListenerInterface.html#\PHPCR\Observation\EventListenerInterface">\PHPCR\Observation\EventListenerInterface</a></td><td><em></em></td></tr><tr><th>$filter</th><td><a href="../files/phpcr.src.PHPCR.Observation.EventFilterInterface.html#\PHPCR\Observation\EventFilterInterface">\PHPCR\Observation\EventFilterInterface</a></td><td><em></em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td>\PHPCR\Observation\RepositoryException</td><td><em>If an error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd><dt>Since</dt><dd>JCR 2.1
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Observation\ObservationManagerInterface::createEventFilter()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">createEventFilter</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.Observation.EventFilterInterface.html#\PHPCR\Observation\EventFilterInterface">\PHPCR\Observation\EventFilterInterface</a></code><div class="description"><p class="short_description">Creates an EventFilter that can then be configured and passed to the
method addEventListener.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Observation.EventFilterInterface.html#\PHPCR\Observation\EventFilterInterface">\PHPCR\Observation\EventFilterInterface</a></td><td></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd><dt>Since</dt><dd>JCR 2.1
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Observation\ObservationManagerInterface::getEventJournal()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getEventJournal</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Observation.EventFilterInterface.html#\PHPCR\Observation\EventFilterInterface">\PHPCR\Observation\EventFilterInterface</a> $filter)</span> : <a href="../files/phpcr.src.PHPCR.Observation.EventJournalInterface.html#\PHPCR\Observation\EventJournalInterface">\PHPCR\Observation\EventJournalInterface</a></code><div class="description"><p class="short_description">Retrieves the event journal for this workspace.</p></div><div class="code-tabs"><div class="long-description"><p>If journaled observation is not supported for this workspace, null is
returned.</p>

<p>Events returned in the EventJournal instance will be filtered according
to the parameters set on the EventFilter that is passed to this method.</p>

<p>Additionally, the current session's access restrictions as well as any
additional restrictions specified through implementation-specific
configuration will also affect the set of returned events.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$filter</th><td><a href="../files/phpcr.src.PHPCR.Observation.EventFilterInterface.html#\PHPCR\Observation\EventFilterInterface">\PHPCR\Observation\EventFilterInterface</a></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Observation.EventJournalInterface.html#\PHPCR\Observation\EventJournalInterface">\PHPCR\Observation\EventJournalInterface</a></td><td>an EventJournal (or null).</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if an error occurs</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd><dt>Since</dt><dd>JCR 2.1
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Observation\ObservationManagerInterface::getRegisteredEventListeners()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getRegisteredEventListeners</span><span class="nb-faded-text">()</span> : \Iterator</code><div class="description"><p class="short_description">Returns all event listeners that have been registered through this session.</p></div><div class="code-tabs"><div class="long-description"><p>If no listeners have been registered, an empty iterator is returned.</p></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>\Iterator</td><td>implementing &lt;b&gt;SeekableIterator&lt;/b&gt; and &lt;b&gt;Countable&lt;/b&gt;.
                 Values are the EventListenerInterface instances. Keys have no meaning.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if an error occurs</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Observation\ObservationManagerInterface::removeEventListener()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">removeEventListener</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Observation.EventListenerInterface.html#\PHPCR\Observation\EventListenerInterface">\PHPCR\Observation\EventListenerInterface</a> $listener)</span> : void</code><div class="description"><p class="short_description">Deregisters an event listener.</p></div><div class="code-tabs"><div class="long-description"><p>A listener may be deregistered while it is being executed. The deregistration
method will block until the listener has completed executing. An exception to
this rule is a listener which deregisters itself from within the onEvent
method. In this case, the deregistration method returns immediately, but
deregistration will effectively be delayed until the listener completes.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$listener</th><td><a href="../files/phpcr.src.PHPCR.Observation.EventListenerInterface.html#\PHPCR\Observation\EventListenerInterface">\PHPCR\Observation\EventListenerInterface</a></td><td><em><p>The listener to deregister.</p></em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if an error occurs.</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Observation\ObservationManagerInterface::setUserData()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setUserData</span><span class="nb-faded-text">(string $userData)</span> : void</code><div class="description"><p class="short_description">Sets the user data information that will be returned by EventInterface::getUserData().</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$userData</th><td>string</td><td><em><p>the user data</p></em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.RepositoryException.html#\PHPCR\RepositoryException">\PHPCR\RepositoryException</a></td><td><em>if an error occurs</em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Api</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.0.0a12</a>.
        </small></body></html>
