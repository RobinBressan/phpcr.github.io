<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2RC4 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Tue, 27 Mar 2012 06:17:48 +0000">

<link rel="stylesheet" type="text/css" href="../../../stylesheet.css">
<link rel="start" href="../../../overview-summary.html">

<title>PHPCR/Observation/EventInterface.php (PHPCR API)</title>

</head>
<body id="file" onload="parent.document.title=document.title;">

<div class="header">
<h1>PHPCR</h1>
<ul>
<li><a href="../../../overview-summary.html">Overview</a></li>
<li>Package</li><li>Class</li><li>Tree</li><li><a href="../../../overview-files.html">Files</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../todo-list.html">Todo</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../index.html" target="_top">Frames</a>
<a href="../../../source/phpcr/observation/eventinterface.php.html" target="_top">No frames</a>
</div>
<hr>

<h1>PHPCR/Observation/EventInterface.php</h1>
<div class="comment" id="overview_description"><p>This file is part of the PHPCR API and was originally ported from the Java
JCR API to PHP by Karsten Dambekalns for the FLOW3 project.</p><p>Copyright 2008-2011 Karsten Dambekalns <karsten@typo3.org></p><p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p><p>http://www.apache.org/licenses/LICENSE-2.0</p><p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p></div>

<hr>

<a name="line1"></a><pre class="php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
<a name="line2"></a>&nbsp;
<a name="line3"></a><span style="color: #009933; font-style: italic;">/**
<a name="line4"></a> * This file is part of the PHPCR API and was originally ported from the Java
<a name="line5"></a> * JCR API to PHP by Karsten Dambekalns for the FLOW3 project.
<a name="line6"></a> *
<a name="line7"></a> * Copyright 2008-2011 Karsten Dambekalns &lt;karsten@typo3.org&gt;
<a name="line8"></a> *
<a name="line9"></a> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<a name="line10"></a> * you may not use this file except in compliance with the License.
<a name="line11"></a> * You may obtain a copy of the License at
<a name="line12"></a> *
<a name="line13"></a> *     http://www.apache.org/licenses/LICENSE-2.0
<a name="line14"></a> *
<a name="line15"></a> * Unless required by applicable law or agreed to in writing, software
<a name="line16"></a> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<a name="line17"></a> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<a name="line18"></a> * See the License for the specific language governing permissions and
<a name="line19"></a> * limitations under the License.
<a name="line20"></a> *
<a name="line21"></a> * @license http://www.apache.org/licenses/LICENSE-2.0 Apache Software License 2.0
<a name="line22"></a> * @link http://phpcr.github.com/
<a name="line23"></a>*/</span>
<a name="line24"></a>&nbsp;
<a name="line25"></a><span style="color: #000000; font-weight: bold;">namespace</span> PHPCR\Observation<span style="color: #339933;">;</span>
<a name="line26"></a>&nbsp;
<a name="line27"></a><span style="color: #009933; font-style: italic;">/**
<a name="line28"></a> * An event fired by the observation mechanism.
<a name="line29"></a> *
<a name="line30"></a> * @package phpcr
<a name="line31"></a> * @subpackage interfaces
<a name="line32"></a> * @api
<a name="line33"></a> */</span>
<a name="line34"></a><span style="color: #000000; font-weight: bold;">interface</span> EventInterface
<a name="line35"></a><span style="color: #009900;">&#123;</span>
<a name="line36"></a>    <span style="color: #009933; font-style: italic;">/**#@+
<a name="line37"></a>     * @var integer
<a name="line38"></a>     */</span>
<a name="line39"></a>&nbsp;
<a name="line40"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line41"></a>     * Generated on persist when a node is added.
<a name="line42"></a>     * - getPath() returns the absolute path of the node that was added.
<a name="line43"></a>     * - getIdentifier() returns the identifier of the node that was added.
<a name="line44"></a>     * - getInfo() returns an empty array
<a name="line45"></a>     *
<a name="line46"></a>     * @api
<a name="line47"></a>     */</span>
<a name="line48"></a>    <span style="color: #000000; font-weight: bold;">const</span> NODE_ADDED <span style="color: #339933;">=</span> <span style="color: #208080;">0x1</span><span style="color: #339933;">;</span>
<a name="line49"></a>&nbsp;
<a name="line50"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line51"></a>     * Generated on persist when a node is removed.
<a name="line52"></a>     * - getPath() returns the absolute path of the node that was removed.
<a name="line53"></a>     * - getIdentifier() returns the identifier of the node that was removed.
<a name="line54"></a>     * - getInfo() returns an empty array
<a name="line55"></a>     *
<a name="line56"></a>     * @api
<a name="line57"></a>     */</span>
<a name="line58"></a>    <span style="color: #000000; font-weight: bold;">const</span> NODE_REMOVED <span style="color: #339933;">=</span> <span style="color: #208080;">0x2</span><span style="color: #339933;">;</span>
<a name="line59"></a>&nbsp;
<a name="line60"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line61"></a>     * Generated on persist when a property is added.
<a name="line62"></a>     * - getPath() returns the absolute path of the property that was added.
<a name="line63"></a>     * - getIdentifier() returns the identifier of the parent node of the property that was added.
<a name="line64"></a>     * - getInfo() returns an empty array
<a name="line65"></a>     *
<a name="line66"></a>     * @api
<a name="line67"></a>     */</span>
<a name="line68"></a>    <span style="color: #000000; font-weight: bold;">const</span> PROPERTY_ADDED <span style="color: #339933;">=</span> <span style="color: #208080;">0x4</span><span style="color: #339933;">;</span>
<a name="line69"></a>&nbsp;
<a name="line70"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line71"></a>     * Generated on persist when a property is removed.
<a name="line72"></a>     * - getPath() returns the absolute path of the property that was removed.
<a name="line73"></a>     * - getIdentifier() returns the identifier of the parent node of the property that was removed.
<a name="line74"></a>     * - getInfo() returns an empty array
<a name="line75"></a>     * @api
<a name="line76"></a>     */</span>
<a name="line77"></a>    <span style="color: #000000; font-weight: bold;">const</span> PROPERTY_REMOVED <span style="color: #339933;">=</span> <span style="color: #208080;">0x8</span><span style="color: #339933;">;</span>
<a name="line78"></a>&nbsp;
<a name="line79"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line80"></a>     * Generated on persist when a property is changed.
<a name="line81"></a>     * - getPath() returns the absolute path of the property that was changed.
<a name="line82"></a>     * - getIdentifier() returns the identifier of the parent node of the property that was changed.
<a name="line83"></a>     * - getInfo() returns an empty array
<a name="line84"></a>     *
<a name="line85"></a>     * @api
<a name="line86"></a>     */</span>
<a name="line87"></a>    <span style="color: #000000; font-weight: bold;">const</span> PROPERTY_CHANGED <span style="color: #339933;">=</span> <span style="color: #208080;">0x10</span><span style="color: #339933;">;</span>
<a name="line88"></a>&nbsp;
<a name="line89"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line90"></a>     * Generated on persist when a node is moved.
<a name="line91"></a>     * - getPath() returns the absolute path of the destination of the move.
<a name="line92"></a>     * - getIdentifier() returns the identifier of the moved node.
<a name="line93"></a>     * - getInfo() If the method that caused this event was a
<a name="line94"></a>     *    SessionInterface::move() or WorkspaceInterface::move() then the
<a name="line95"></a>     *    returned array has keys srcAbsPath and destAbsPath with values
<a name="line96"></a>     *    corresponding to the parameters passed to the move() method.
<a name="line97"></a>     *
<a name="line98"></a>     *  If the method that caused this event was a NodeInterface::orderBefore()
<a name="line99"></a>     *  then the returned aray has keys srcChildRelPath and destChildRelPath
<a name="line100"></a>     *  with values corresponding to the parameters passed to the orderBefore()
<a name="line101"></a>     *  method.
<a name="line102"></a>     *
<a name="line103"></a>     * @api
<a name="line104"></a>     */</span>
<a name="line105"></a>    <span style="color: #000000; font-weight: bold;">const</span> NODE_MOVED <span style="color: #339933;">=</span> <span style="color: #208080;">0x20</span><span style="color: #339933;">;</span>
<a name="line106"></a>&nbsp;
<a name="line107"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line108"></a>     * If event bundling is supported, this event is used to indicate a
<a name="line109"></a>     * bundle boundary within the event journal.
<a name="line110"></a>     * - getPath() returns null.
<a name="line111"></a>     * - getIdentifier() returns null.
<a name="line112"></a>     * - getInfo() returns an empty array.
<a name="line113"></a>     *
<a name="line114"></a>     * @api
<a name="line115"></a>     */</span>
<a name="line116"></a>    <span style="color: #000000; font-weight: bold;">const</span> PERSIST <span style="color: #339933;">=</span> <span style="color: #208080;">0x40</span><span style="color: #339933;">;</span>
<a name="line117"></a>&nbsp;
<a name="line118"></a>    <span style="color: #009933; font-style: italic;">/**#@-*/</span>
<a name="line119"></a>&nbsp;
<a name="line120"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line121"></a>     * Returns the type of this event: a constant defined by this interface.
<a name="line122"></a>     * One of:
<a name="line123"></a>     * - NODE_ADDED
<a name="line124"></a>     * - NODE_REMOVED
<a name="line125"></a>     * - PROPERTY_ADDED
<a name="line126"></a>     * - PROPERTY_REMOVED
<a name="line127"></a>     * - PROPERTY_CHANGED
<a name="line128"></a>     * - NODE_MOVED
<a name="line129"></a>     * - PERSIST
<a name="line130"></a>     *
<a name="line131"></a>     * @return integer the type of this event.
<a name="line132"></a>     * @api
<a name="line133"></a>     */</span>
<a name="line134"></a>    <span style="color: #000000; font-weight: bold;">function</span> <a href="http://www.php.net/gettype"><span style="color: #990000;">getType</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line135"></a>&nbsp;
<a name="line136"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line137"></a>     * Returns the absolute path associated with this event or null if this
<a name="line138"></a>     * event has no associated identifier.
<a name="line139"></a>     *
<a name="line140"></a>     * The meaning of the associated path depends upon the type of the event.
<a name="line141"></a>     * See event type constants above.
<a name="line142"></a>     *
<a name="line143"></a>     * @return string The absolute path associated with this event or null.
<a name="line144"></a>     *
<a name="line145"></a>     * @throws \PHPCR\RepositoryException if an error occurs.
<a name="line146"></a>     * @api
<a name="line147"></a>     */</span>
<a name="line148"></a>    <span style="color: #000000; font-weight: bold;">function</span> getPath<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line149"></a>&nbsp;
<a name="line150"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line151"></a>     * Returns the user ID connected with this event.
<a name="line152"></a>     *
<a name="line153"></a>     * This is the string returned by SessionInterface::getUserID() of the session that caused the event.
<a name="line154"></a>     *
<a name="line155"></a>     * @return string The identifier of the user connected to the event.
<a name="line156"></a>     * @api
<a name="line157"></a>     */</span>
<a name="line158"></a>    <span style="color: #000000; font-weight: bold;">function</span> getUserID<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line159"></a>&nbsp;
<a name="line160"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line161"></a>     * Returns the identifier associated with this event or null if this event
<a name="line162"></a>     * has no associated identifier.
<a name="line163"></a>     *
<a name="line164"></a>     * The meaning of the associated identifier depends upon the type of the event.
<a name="line165"></a>     * See event type constants above.
<a name="line166"></a>     *
<a name="line167"></a>     * @return string The identifier associated with this event or null.
<a name="line168"></a>     *
<a name="line169"></a>     * @throws \PHPCR\RepositoryException if an error occurs.
<a name="line170"></a>     * @api
<a name="line171"></a>     */</span>
<a name="line172"></a>    <span style="color: #000000; font-weight: bold;">function</span> getIdentifier<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line173"></a>&nbsp;
<a name="line174"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line175"></a>     * Returns the information map associated with this event.
<a name="line176"></a>     *
<a name="line177"></a>     * The meaning of the map depends upon the type of the event.
<a name="line178"></a>     * See event type constants above.
<a name="line179"></a>     *
<a name="line180"></a>     * @return array A list containing parameter information for instances of a NODE_MOVED event.
<a name="line181"></a>     *
<a name="line182"></a>     * @throws \PHPCR\RepositoryException if an error occurs.
<a name="line183"></a>     * @api
<a name="line184"></a>     */</span>
<a name="line185"></a>    <span style="color: #000000; font-weight: bold;">function</span> getInfo<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line186"></a>&nbsp;
<a name="line187"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line188"></a>     * Returns the user data set through ObservationManagerInterface::setUserData() on the
<a name="line189"></a>     * ObservationManager bound to the Session that caused the event.
<a name="line190"></a>     *
<a name="line191"></a>     * @return string The user data string.
<a name="line192"></a>     * @throws \PHPCR\RepositoryException if an error occurs.
<a name="line193"></a>     * @api
<a name="line194"></a>     */</span>
<a name="line195"></a>    <span style="color: #000000; font-weight: bold;">function</span> getUserData<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line196"></a>&nbsp;
<a name="line197"></a>    <span style="color: #009933; font-style: italic;">/**
<a name="line198"></a>     * Returns the date when the change was persisted that caused this event.
<a name="line199"></a>     *
<a name="line200"></a>     * The date is represented as a millisecond value that is an offset from the
<a name="line201"></a>     * Epoch, January 1, 1970 00:00:00.000 GMT (Gregorian). The granularity of
<a name="line202"></a>     * the returned value is implementation dependent.
<a name="line203"></a>     *
<a name="line204"></a>     * @return integer The date when the change was persisted that caused this event (milliseconds since epoch).
<a name="line205"></a>     *
<a name="line206"></a>     * @throws \PHPCR\RepositoryException if an error occurs.
<a name="line207"></a>     * @api
<a name="line208"></a>     */</span>
<a name="line209"></a>    <span style="color: #000000; font-weight: bold;">function</span> <a href="http://www.php.net/getdate"><span style="color: #990000;">getDate</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a name="line210"></a><span style="color: #009900;">&#125;</span>
<a name="line211"></a>&nbsp;</pre>
<div class="header">
<h1>PHPCR</h1>
<ul>
<li><a href="../../../overview-summary.html">Overview</a></li>
<li>Package</li><li>Class</li><li>Tree</li><li><a href="../../../overview-files.html">Files</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../todo-list.html">Todo</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../index.html" target="_top">Frames</a>
<a href="../../../source/phpcr/observation/eventinterface.php.html" target="_top">No frames</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>