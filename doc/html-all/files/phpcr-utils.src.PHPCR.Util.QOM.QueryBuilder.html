<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PHPCR API and PHPCR-Utils</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery.tools.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">phpcr-utils/src/PHPCR/Util/QOM/QueryBuilder.php</h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></li></ul></li></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="short-description">This file is part of the PHPCR Utils</div><div class="long-description"><p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>

<pre><code>http://www.apache.org/licenses/LICENSE-2.0
</code></pre>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p></div></div><dl class="file-info"><dt>License</dt><dd><a href="http://www.apache.org/licenses/LICENSE-2.0">Apache Software License 2.0</a>
         
    </dd><dt>Link</dt><dd><a href="http://phpcr.github.com/">http://phpcr.github.com/</a>
         
    </dd></dl><a name="classes" class="anchor"></a><a id="\PHPCR\Util\QOM\QueryBuilder" class="anchor"></a><h2 class="class">\PHPCR\Util\QOM\QueryBuilder<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>Default</small><div class="short-description">QueryBuilder class is responsible for dynamically create QOM queries.</div><div class="long-description"></div><dl class="class-info"><dt>Author</dt><dd><a href="mailto:nitram.ohcan@gmail.com">Nacho Martín</a>
         
    </dd><dt>Author</dt><dd><a href="mailto:guilhermeblanco@hotmail.com">Guilherme Blanco</a>
         
    </dd><dt>Author</dt><dd><a href="mailto:kontakt@beberlei.de">Benjamin Eberlei</a>
         
    </dd></dl><h3>Constants</h3><div><a id="\PHPCR\Util\QOM\QueryBuilder::STATE_DIRTY" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">STATE_DIRTY</span>
                = 0</code><div class="description"><div class="short-description">The builder states.</div></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::STATE_CLEAN" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">STATE_CLEAN</span>
                = 1</code><div class="description"></div><div class="code-tabs"></div><div class="clear"></div></div></div><h3>Properties</h3><div><a id="\PHPCR\Util\QOM\QueryBuilder::$columns" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img>array <span class="highlight">$columns</span> = array()</code><div class="description"><div class="short-description"><p>with the columns to be selected.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::$constraint" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img>\PHPCR\Query\QOM\ConstraintInterface <span class="highlight">$constraint</span> = null</code><div class="description"><div class="short-description"><p>to apply to the query.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>null</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd><a href="../files/phpcr.src.PHPCR.Query.QOM.ConstraintInterface.html#\PHPCR\Query\QOM\ConstraintInterface">\PHPCR\Query\QOM\ConstraintInterface</a></dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::$firstResult" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img>integer <span class="highlight">$firstResult</span> = null</code><div class="description"><div class="short-description"><p>The maximum number of results to retrieve.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>null</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>integer</dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::$maxResults" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img>integer <span class="highlight">$maxResults</span> = null</code><div class="description"><div class="short-description"><p>The maximum number of results to retrieve.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>null</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>integer</dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::$orderings" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img>array <span class="highlight">$orderings</span> = array()</code><div class="description"><div class="short-description"><p>with the orderings that determine the order of the result</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::$params" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img>array <span class="highlight">$params</span> = array()</code><div class="description"><div class="short-description"><p>The query parameters.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::$qomFactory" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img>\PHPCR\Query\QOM\QueryObjectModelFactoryInterface <span class="highlight">$qomFactory</span></code><div class="description"><div class="short-description"><p>QOMFactory</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd><a href="../files/phpcr.src.PHPCR.Query.QOM.QueryObjectModelFactoryInterface.html#\PHPCR\Query\QOM\QueryObjectModelFactoryInterface">\PHPCR\Query\QOM\QueryObjectModelFactoryInterface</a></dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::$query" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img>\PHPCR\Query\QOM\QueryObjectModelInterface <span class="highlight">$query</span> = null</code><div class="description"><div class="short-description">QOM tree</div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>null</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd><a href="../files/phpcr.src.PHPCR.Query.QOM.QueryObjectModelInterface.html#\PHPCR\Query\QOM\QueryObjectModelInterface">\PHPCR\Query\QOM\QueryObjectModelInterface</a></dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::$source" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img>\PHPCR\Query\QOM\SourceInterface <span class="highlight">$source</span> = null</code><div class="description"><div class="short-description"><p>source of the query.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>null</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd><a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a></dd></dl></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::$state" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img>integer <span class="highlight">$state</span> = self::STATE_CLEAN</code><div class="description"><div class="short-description"><p>The state of the query object. Can be dirty or clean.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>self::STATE_CLEAN</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>integer</dd></dl></div><div class="clear"></div></div></div><h3>Methods</h3><div><a id="\PHPCR\Util\QOM\QueryBuilder::__construct()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__construct</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.QueryObjectModelFactoryInterface.html#\PHPCR\Query\QOM\QueryObjectModelFactoryInterface">\PHPCR\Query\QOM\QueryObjectModelFactoryInterface</a> $qomFactory)</span> : void</code><div class="description"><p class="short_description">Initializes a new QueryBuilder</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$qomFactory</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.QueryObjectModelFactoryInterface.html#\PHPCR\Query\QOM\QueryObjectModelFactoryInterface">\PHPCR\Query\QOM\QueryObjectModelFactoryInterface</a></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::addOrderBy()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">addOrderBy</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.DynamicOperandInterface.html#\PHPCR\Query\QOM\DynamicOperandInterface">\PHPCR\Query\QOM\DynamicOperandInterface</a> $sort, string $order = 'ASC')</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Adds an ordering to the query results.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$sort</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.DynamicOperandInterface.html#\PHPCR\Query\QOM\DynamicOperandInterface">\PHPCR\Query\QOM\DynamicOperandInterface</a></td><td><em><p>The ordering expression.</p></em></td></tr><tr><th>$order</th><td>string</td><td><em><p>The ordering direction.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::addSelect()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">addSelect</span><span class="nb-faded-text">(string $propertyName, string $columnName = null, string $selectorName = null)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Adds a property in the specified or default selector to include in the tabular view of query results.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$propertyName</th><td>string</td><td><em></em></td></tr><tr><th>$columnName</th><td>string</td><td><em></em></td></tr><tr><th>$selectorName</th><td>string</td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::andWhere()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">andWhere</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.ConstraintInterface.html#\PHPCR\Query\QOM\ConstraintInterface">\PHPCR\Query\QOM\ConstraintInterface</a> $constraint)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Creates a new constraint formed by applying a logical AND to the
existing constraint and the new one</p></div><div class="code-tabs"><div class="long-description"><p>Order of ands is important:</p>

<p>Given $this->constraint = $constraint1
running andWhere($constraint2)
resulting constraint will be $constraint1 AND $constraint2</p>

<p>If there is no previous constraint then it will simply store the
provided one</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$constraint</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.ConstraintInterface.html#\PHPCR\Query\QOM\ConstraintInterface">\PHPCR\Query\QOM\ConstraintInterface</a></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::execute()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">execute</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.Query.QueryResultInterface.html#\PHPCR\Query\QueryResultInterface">\PHPCR\Query\QueryResultInterface</a></code><div class="description"><p class="short_description">Executes the query setting firstResult and maxResults.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Query.QueryResultInterface.html#\PHPCR\Query\QueryResultInterface">\PHPCR\Query\QueryResultInterface</a></td><td></td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::from()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">from</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a> $source)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Sets the default Selector or the node-tuple Source.</p></div><div class="code-tabs"><div class="long-description"><p>Can be a selector
or a join.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$source</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::getColumns()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getColumns</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.Query.QOM.ColumnInterface.html#\PHPCR\Query\QOM\ColumnInterface">\PHPCR\Query\QOM\ColumnInterface[]</a></code><div class="description"><p class="short_description">Returns the columns to be selected</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Query.QOM.ColumnInterface.html#\PHPCR\Query\QOM\ColumnInterface">\PHPCR\Query\QOM\ColumnInterface[]</a></td><td>The columns to be selected</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::getConstraint()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getConstraint</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.Query.QOM.ConstraintInterface.html#\PHPCR\Query\QOM\ConstraintInterface">\PHPCR\Query\QOM\ConstraintInterface</a></code><div class="description"><p class="short_description">Returns the constraint to apply</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Query.QOM.ConstraintInterface.html#\PHPCR\Query\QOM\ConstraintInterface">\PHPCR\Query\QOM\ConstraintInterface</a></td><td>the constraint to be applied</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::getFirstResult()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getFirstResult</span><span class="nb-faded-text">()</span> : integer</code><div class="description"><p class="short_description">Gets the position of the first result the query object was set to retrieve (the "offset").</p></div><div class="code-tabs"><div class="long-description"><p>Returns NULL if <a href="setFirstResult">setFirstResult</a> was not applied to this QueryBuilder.</p></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>integer</td><td>The position of the first result.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::getMaxResults()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getMaxResults</span><span class="nb-faded-text">()</span> : integer</code><div class="description"><p class="short_description">Gets the maximum number of results the query object was set to retrieve (the "limit").</p></div><div class="code-tabs"><div class="long-description"><p>Returns NULL if <a href="setMaxResults">setMaxResults</a> was not applied to this query builder.</p></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>integer</td><td>Maximum number of results.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::getOrderings()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getOrderings</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.Query.QOM.OrderingInterface.html#\PHPCR\Query\QOM\OrderingInterface">\PHPCR\Query\QOM\OrderingInterface[]</a></code><div class="description"><p class="short_description">Gets the array of orderings.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Query.QOM.OrderingInterface.html#\PHPCR\Query\QOM\OrderingInterface">\PHPCR\Query\QOM\OrderingInterface[]</a></td><td>Orderings to apply.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::getParameter()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getParameter</span><span class="nb-faded-text">(string $key)</span> : mixed</code><div class="description"><p class="short_description">Gets a (previously set) query parameter of the query being constructed.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>The key (name) of the bound parameter.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The value of the bound parameter.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::getParameters()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getParameters</span><span class="nb-faded-text">()</span> : array</code><div class="description"><p class="short_description">Gets all defined query parameters for the query being constructed.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>array</td><td>The currently defined query parameters.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::getQOMFactory()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getQOMFactory</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.Query.QOM.QueryObjectModelFactoryInterface.html#\PHPCR\Query\QOM\QueryObjectModelFactoryInterface">\PHPCR\Query\QOM\QueryObjectModelFactoryInterface</a></code><div class="description"><p class="short_description">Get the associated QOMFactory for this query builder</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Query.QOM.QueryObjectModelFactoryInterface.html#\PHPCR\Query\QOM\QueryObjectModelFactoryInterface">\PHPCR\Query\QOM\QueryObjectModelFactoryInterface</a></td><td></td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::getQuery()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getQuery</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.Query.QOM.QueryObjectModelInterface.html#\PHPCR\Query\QOM\QueryObjectModelInterface">\PHPCR\Query\QOM\QueryObjectModelInterface</a></code><div class="description"><p class="short_description">Gets the query built</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Query.QOM.QueryObjectModelInterface.html#\PHPCR\Query\QOM\QueryObjectModelInterface">\PHPCR\Query\QOM\QueryObjectModelInterface</a></td><td></td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::getSource()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getSource</span><span class="nb-faded-text">()</span> : <a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a></code><div class="description"><p class="short_description">Gets the default Selector.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a></td><td>The default selector.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::innerJoin()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">innerJoin</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a> $rightSource, <a href="../files/phpcr.src.PHPCR.Query.QOM.JoinConditionInterface.html#\PHPCR\Query\QOM\JoinConditionInterface">\PHPCR\Query\QOM\JoinConditionInterface</a> $joinCondition)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Performs an inner join between the stored source and the supplied source.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$rightSource</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a></td><td><em></em></td></tr><tr><th>$joinCondition</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.JoinConditionInterface.html#\PHPCR\Query\QOM\JoinConditionInterface">\PHPCR\Query\QOM\JoinConditionInterface</a></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td>\PHPCR\Util\QOM\RuntimeException</td><td><em>if there is not an existing source.</em></td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::join()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">join</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a> $rightSource, <a href="../files/phpcr.src.PHPCR.Query.QOM.JoinConditionInterface.html#\PHPCR\Query\QOM\JoinConditionInterface">\PHPCR\Query\QOM\JoinConditionInterface</a> $joinCondition)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Performs an inner join between the stored source and the supplied source.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$rightSource</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a></td><td><em></em></td></tr><tr><th>$joinCondition</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.JoinConditionInterface.html#\PHPCR\Query\QOM\JoinConditionInterface">\PHPCR\Query\QOM\JoinConditionInterface</a></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td>\PHPCR\Util\QOM\RuntimeException</td><td><em>if there is not an existing source.</em></td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::joinWithType()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">joinWithType</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a> $rightSource, string $joinType, <a href="../files/phpcr.src.PHPCR.Query.QOM.JoinConditionInterface.html#\PHPCR\Query\QOM\JoinConditionInterface">\PHPCR\Query\QOM\JoinConditionInterface</a> $joinCondition)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Performs an join between the stored source and the supplied source.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$rightSource</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a></td><td><em></em></td></tr><tr><th>$joinType</th><td>string</td><td><em><p>as specified in PHPCR\Query\QOM\QueryObjectModelConstantsInterface</p>
</em></td></tr><tr><th>$joinCondition</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.JoinConditionInterface.html#\PHPCR\Query\QOM\JoinConditionInterface">\PHPCR\Query\QOM\JoinConditionInterface</a></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td>\PHPCR\Util\QOM\RuntimeException</td><td><em>if there is not an existing source.</em></td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::leftJoin()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">leftJoin</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a> $rightSource, <a href="../files/phpcr.src.PHPCR.Query.QOM.JoinConditionInterface.html#\PHPCR\Query\QOM\JoinConditionInterface">\PHPCR\Query\QOM\JoinConditionInterface</a> $joinCondition)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Performs an left outer join between the stored source and the supplied source.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$rightSource</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a></td><td><em></em></td></tr><tr><th>$joinCondition</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.JoinConditionInterface.html#\PHPCR\Query\QOM\JoinConditionInterface">\PHPCR\Query\QOM\JoinConditionInterface</a></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td>\PHPCR\Util\QOM\RuntimeException</td><td><em>if there is not an existing source.</em></td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::orWhere()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">orWhere</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.ConstraintInterface.html#\PHPCR\Query\QOM\ConstraintInterface">\PHPCR\Query\QOM\ConstraintInterface</a> $constraint)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Creates a new constraint formed by applying a logical OR to the
existing constraint and the new one</p></div><div class="code-tabs"><div class="long-description"><p>Order of ands is important:</p>

<p>Given $this->constraint = $constraint1
running orWhere($constraint2)
resulting constraint will be $constraint1 OR $constraint2</p>

<p>If there is no previous constraint then it will simply store the
provided one</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$constraint</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.ConstraintInterface.html#\PHPCR\Query\QOM\ConstraintInterface">\PHPCR\Query\QOM\ConstraintInterface</a></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::orderBy()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">orderBy</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.DynamicOperandInterface.html#\PHPCR\Query\QOM\DynamicOperandInterface">\PHPCR\Query\QOM\DynamicOperandInterface</a> $sort, string $order = 'ASC')</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Specifies an ordering for the query results.</p></div><div class="code-tabs"><div class="long-description"><p>Replaces any previously specified orderings, if any.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$sort</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.DynamicOperandInterface.html#\PHPCR\Query\QOM\DynamicOperandInterface">\PHPCR\Query\QOM\DynamicOperandInterface</a></td><td><em><p>The ordering expression.</p></em></td></tr><tr><th>$order</th><td>string</td><td><em><p>The ordering direction.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::qomf()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">qomf</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description">Shortcut for getQOMFactory()</p></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::rightJoin()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">rightJoin</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a> $rightSource, <a href="../files/phpcr.src.PHPCR.Query.QOM.JoinConditionInterface.html#\PHPCR\Query\QOM\JoinConditionInterface">\PHPCR\Query\QOM\JoinConditionInterface</a> $joinCondition)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Performs a right outer join between the stored source and the supplied source.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$rightSource</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.SourceInterface.html#\PHPCR\Query\QOM\SourceInterface">\PHPCR\Query\QOM\SourceInterface</a></td><td><em></em></td></tr><tr><th>$joinCondition</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.JoinConditionInterface.html#\PHPCR\Query\QOM\JoinConditionInterface">\PHPCR\Query\QOM\JoinConditionInterface</a></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td>\PHPCR\Util\QOM\RuntimeException</td><td><em>if there is not an existing source.</em></td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::select()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">select</span><span class="nb-faded-text">(string $propertyName, string $columnName = null, string $selectorName = null)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Identifies a property in the specified or default selector to include in the tabular view of query results.</p></div><div class="code-tabs"><div class="long-description"><p>Replaces any previously specified columns to be selected if any.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$propertyName</th><td>string</td><td><em></em></td></tr><tr><th>$columnName</th><td>string</td><td><em></em></td></tr><tr><th>$selectorName</th><td>string</td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::setColumns()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setColumns</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.ColumnInterface.html#\PHPCR\Query\QOM\ColumnInterface">\PHPCR\Query\QOM\ColumnInterface[]</a> $columns)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Sets the columns to be selected</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$columns</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.ColumnInterface.html#\PHPCR\Query\QOM\ColumnInterface">\PHPCR\Query\QOM\ColumnInterface[]</a></td><td><em><p>The columns to be selected</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::setFirstResult()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setFirstResult</span><span class="nb-faded-text">(integer $firstResult)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">sets the position of the first result to retrieve (the "offset").</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$firstResult</th><td>integer</td><td><em><p>The First result to return.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::setFromQuery()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setFromQuery</span><span class="nb-faded-text">(string $statement, string $language)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Get a query builder instance from an existing query</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$statement</th><td>string</td><td><em><p>the statement in the specified language</p></em></td></tr><tr><th>$language</th><td>string</td><td><em><p>the query language</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::setMaxResults()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setMaxResults</span><span class="nb-faded-text">(integer $maxResults)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Sets the maximum number of results to retrieve (the "limit").</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$maxResults</th><td>integer</td><td><em><p>The maximum number of results to retrieve.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::setParameter()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setParameter</span><span class="nb-faded-text">(string $key, mixed $value)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Sets a query parameter for the query being constructed.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>The parameter name.</p></em></td></tr><tr><th>$value</th><td>mixed</td><td><em><p>The parameter value.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::setParameters()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setParameters</span><span class="nb-faded-text">(array $params)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Sets a collection of query parameters for the query being constructed.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$params</th><td>array</td><td><em><p>The query parameters to set.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div><a id="\PHPCR\Util\QOM\QueryBuilder::where()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">where</span><span class="nb-faded-text">(<a href="../files/phpcr.src.PHPCR.Query.QOM.ConstraintInterface.html#\PHPCR\Query\QOM\ConstraintInterface">\PHPCR\Query\QOM\ConstraintInterface</a> $constraint)</span> : <a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></code><div class="description"><p class="short_description">Specifies one restriction (may be simple or composed).</p></div><div class="code-tabs"><div class="long-description"><p>Replaces any previously specified restrictions, if any.</p></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$constraint</th><td><a href="../files/phpcr.src.PHPCR.Query.QOM.ConstraintInterface.html#\PHPCR\Query\QOM\ConstraintInterface">\PHPCR\Query\QOM\ConstraintInterface</a></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/phpcr-utils.src.PHPCR.Util.QOM.QueryBuilder.html#\PHPCR\Util\QOM\QueryBuilder">\PHPCR\Util\QOM\QueryBuilder</a></td><td>This QueryBuilder instance.</td></tr></table></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.0.0a12</a>.
        </small></body></html>
